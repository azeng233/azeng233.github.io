<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>曾晨de小站</title>
  
  
  <link href="https://zengchen233.cn/atom.xml" rel="self"/>
  
  <link href="https://zengchen233.cn/"/>
  <updated>2022-05-12T13:13:29.233Z</updated>
  <id>https://zengchen233.cn/</id>
  
  <author>
    <name>曾晨</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>2022年4月总结</title>
    <link href="https://zengchen233.cn/posts/dcf3105f/"/>
    <id>https://zengchen233.cn/posts/dcf3105f/</id>
    <published>2022-05-06T01:07:31.000Z</published>
    <updated>2022-05-12T13:13:29.233Z</updated>
    
    <content type="html"><![CDATA[<p><strong>简述：</strong> 简单总结一下2022年4月份的历程！</p><span id="more"></span><blockquote><p>本文初发于 <strong>“曾晨de小站”</strong>  <a href="https://zengchen233.cn/">zengchen233.cn</a>，同步转载于此。</p></blockquote><h2 id="开篇"><a href="#开篇" class="headerlink" title="开篇"></a>开篇</h2><p>时间过得真快，从开学到现在不知不觉就已经过了两个多月了，考研倒计时还剩下232天，距离分手也过去了快两个月，最近释怀了。。</p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>现在简单的记录一下自己的近期学习路线：</p><h3 id="数学"><a href="#数学" class="headerlink" title="数学"></a>数学</h3><p>最近已经把汤家凤基础部分过了一遍，正在二刷1800，发现之前有很多不是很理解的东西，现在通过反复的做题可以慢慢弄懂了，线性代数也慢慢在走向正轨。</p><h3 id="英语"><a href="#英语" class="headerlink" title="英语"></a>英语</h3><p>从三月底到现在开始慢慢的在做英语考研真题，大概每一篇阅读现在都能稳定在错两个以内，单词从去年九月份到现在已经记完两遍了，现在在开始第三遍，现在开始每天复习，每天保证记100个单词，复习的可能到了后期就一天四五百了。</p><p><img src="https://cdn.zengchen233.cn/img/20220506.PNG" alt="20220506" loading="lazy"></p><h3 id="政治"><a href="#政治" class="headerlink" title="政治"></a>政治</h3><p>还没开始🕊️🕊️🕊️</p><h3 id="专业课"><a href="#专业课" class="headerlink" title="专业课"></a>专业课</h3><p>现在只开始了数据结构，等找个机会再来更新吧！</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;简述：&lt;/strong&gt; 简单总结一下2022年4月份的历程！&lt;/p&gt;</summary>
    
    
    
    <category term="生活" scheme="https://zengchen233.cn/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="生活" scheme="https://zengchen233.cn/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>最近的状况！</title>
    <link href="https://zengchen233.cn/posts/25a5e74c/"/>
    <id>https://zengchen233.cn/posts/25a5e74c/</id>
    <published>2022-04-12T04:57:12.000Z</published>
    <updated>2022-04-12T13:40:32.830Z</updated>
    
    <content type="html"><![CDATA[<p><strong>简述：</strong> 简单记录一下最近的状况！</p><span id="more"></span><blockquote><p>本文初发于 <strong>“曾晨de小站”</strong>  <a href="https://zengchen233.cn/">zengchen233.cn</a>，同步转载于此。</p></blockquote><h2 id="初"><a href="#初" class="headerlink" title="初"></a>初</h2><p>从3月19号到现在经历了很多事情，那天晚上分手了，分开的很平静，没有预想的那种撕心裂肺，但是听到分手的消息的时候还是在体育馆哭了起来，初恋真的很美好，但是事情都已经过去了，不要在找她了，就安静的躺在列表里当一个最熟悉的陌生人吧！</p><p>不要在相爱时找不爱的细节，也别在分开时回忆相爱的点滴，两个人好的时候,就好比一起乘坐一辆火车,奔着同一个目的地，沿途一起看风景，分手时就好比中途他要下车，因为我们要去的，很可能不是一个地方了，我拦着你说不许走，或说我也在这儿下,可是你忘了你原本要去的地方吗。放行是美德，不管是谁放了谁。一直以来人们对于分手有个误区，好像分手这种事情，往往被分手的那一方，容易被人注意到他们要更加难过，我更愿意相信，分手后两边都在承受痛苦，说过的话，拍过的照，什么天涯，什么海角，所有的甜蜜凭证化为枪口。一起吃过的小店，走过的天桥，所有的稀疏平常在分手以后却变得分外耀眼。    </p><p>彼此对彼此接下来的生活都不要妄加干涉、评论、猜忌，我觉得这是对分手后俩人的曾经一种保护，断联是最好的办法，最美的那些时刻，星辰，日落，我就记住了。   </p><p>从现在开始，你要每天认真洗脸，好好护肤，按时睡觉 不要在深夜发那些矫情的话，第二天早上起来的时候再删掉，更不要再去联系那个早就已经走散在你生活里的人了   </p><p>你还要多读书，多认识一些可爱的人，不要把自己的圈子局限在某个人身上。除此之外，你还要努力变得温柔和大度，无论别人如何变化，你都要不忘初心，保持善意。   </p><p>同时，我还希望你要明白，真正的成熟应该是不再逢人就诉说自己的遭遇，是逐渐学会一个 人面对生活里的苦， 自己说服自己，想通曾经所有想不通的事情。所以，你看，这样的你，就算现在单身也无所谓啊，因为你这么努力的去做好自己，那你当然也会遇到那个跟你一样热爱生活、频率相同的人。等到某一天他出现的时候，你就会恍然大悟，你付出的所有等待都是有意义的，不是吗？   </p><p>答应我，一定要快乐哦，就像你不曾认识她的时候那样！</p><h2 id="中"><a href="#中" class="headerlink" title="中"></a>中</h2><p>几天前，突然翻相册翻到了倩倩送给思思的圣诞节祝福信：</p><p><img src="https://cdn.zengchen233.cn/img/%E5%80%A9%E5%80%A9%E7%BB%99%E6%80%9D%E6%80%9D%E7%9A%84%E7%A5%9D%E7%A6%8F%E4%BF%A1.jpg!/rotate/270" alt="倩倩给思思的祝福信" loading="lazy"></p><p>看到了<code>斯人若彩虹，遇上方知有</code>这句话，真的是很有意境！于是抽空看完了<code>怦然心动</code>这部电影，真的太治愈了，真正相爱的两个人是不会走散的，或许过程真的很曲折，但是你要知道，老天会让一个一个人陪你走完一段路，他们最终会走开，但是你要坚信自己肯定可以找到人生的<code>彩虹</code>！</p><hr><p><img src="https://cdn.zengchen233.cn/img/%E6%80%A6%E7%84%B6%E5%BF%83%E5%8A%A8%20(1).jpg" alt="怦然心动 (1)" loading="lazy"></p><hr><p><img src="https://cdn.zengchen233.cn/img/%E6%80%A6%E7%84%B6%E5%BF%83%E5%8A%A8%20(2).jpg" alt="怦然心动 (2)" loading="lazy"></p><hr><p><img src="https://cdn.zengchen233.cn/img/%E6%80%A6%E7%84%B6%E5%BF%83%E5%8A%A8%20(3).jpg" alt="怦然心动 (3)" loading="lazy"></p><hr><p><img src="https://cdn.zengchen233.cn/img/%E6%80%A6%E7%84%B6%E5%BF%83%E5%8A%A8%20(4).jpg" alt="怦然心动 (4)" loading="lazy"></p><hr><p><img src="https://cdn.zengchen233.cn/img/%E6%80%A6%E7%84%B6%E5%BF%83%E5%8A%A8%20(5).jpg" alt="怦然心动 (5)" loading="lazy"></p><hr><p><img src="https://cdn.zengchen233.cn/img/%E6%80%A6%E7%84%B6%E5%BF%83%E5%8A%A8%20(6).jpg" alt="怦然心动 (6)" loading="lazy"></p><hr><p><img src="https://cdn.zengchen233.cn/img/%E6%80%A6%E7%84%B6%E5%BF%83%E5%8A%A8%20(7).jpg" alt="怦然心动 (7)" loading="lazy"></p><hr><p><img src="https://cdn.zengchen233.cn/img/%E6%80%A6%E7%84%B6%E5%BF%83%E5%8A%A8%20(8).jpg" alt="怦然心动 (8)" loading="lazy"></p><hr><p><img src="https://cdn.zengchen233.cn/img/%E6%80%A6%E7%84%B6%E5%BF%83%E5%8A%A8%20(9).jpg" alt="怦然心动 (9)" loading="lazy"></p><hr><p><em>Some of us get dipped in flat, some in satin, some in gloss. But every once in a while you find someone whos iridescent, and when you do, nothing will ever compare。</em></p><p><em><u>有人住高楼，有人处深沟，有人光万丈，有人一身锈，世人万千种，浮云莫去求，斯人若彩虹，遇上方知有。</u></em></p><p>这句话真的是我最喜欢最喜欢的一句话了！</p><h2 id="终"><a href="#终" class="headerlink" title="终"></a>终</h2><p>前天知道了自己是没有机会复合，还是干脆点退出她的舞台吧！不要再去找他了，真的蛮掉底子，始于喜欢，终于喜欢，喜欢她就不要再去打扰她啦！期待下一次相遇还能相互对视笑一下吧！</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;简述：&lt;/strong&gt; 简单记录一下最近的状况！&lt;/p&gt;</summary>
    
    
    
    <category term="生活" scheme="https://zengchen233.cn/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="生活" scheme="https://zengchen233.cn/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>变积分限函数</title>
    <link href="https://zengchen233.cn/posts/88722e0b/"/>
    <id>https://zengchen233.cn/posts/88722e0b/</id>
    <published>2022-03-03T02:52:01.000Z</published>
    <updated>2022-03-07T13:47:45.744Z</updated>
    
    <content type="html"><![CDATA[<p><strong>简述：</strong> 今天在做定积分习题的时候发现有一个位置不是很懂，于是我在网山搜索的时候发现了一篇有如神助的文章，特用自己的白话翻译翻译，记录一下。</p><span id="more"></span><blockquote><p>本文初发于 <strong>“曾晨de小站”</strong>  <a href="https://zengchen233.cn/">zengchen233.cn</a>，同步转载于此。</p></blockquote><h2 id="积分上限函数"><a href="#积分上限函数" class="headerlink" title="积分上限函数"></a>积分上限函数</h2><p>积分上限函数又称变上限积分,例如$\int_{a}^{x}f(t)dt$,其中上限为某一变量$x$,下限为某一常量$a$,假定$f(t)$的原函数为$F(t)$,则上述变上限积分就等于$F(x)-F(a)$,该积分显然是$x$的函数,其中$F(a)$为常数.现在对变上限积分求导就是对$F(x)-F(a)$求导,很明显等于$f(x)$。</p><p>更一般的情形,如果积分上限为$x$的某一函数$g(x)$,则变上限积分就等于$F[g(x)]-F(a)$,对其求导就得到$f[g(x)]g’(x)$。</p><p>$$\phi (x)&#x3D;\int_{a}^{x}f(x)dx&#x3D;\int_{a}^{x}f(t)dt$$</p><p><strong>注意：</strong></p><p>这是一个函数，自变量是积分上限的那个$x$,与积分变量选取的是$x$或者是$t$或者是其他的字母没有半毛钱的关系，比如：</p><p>$$\phi (x)&#x3D;\int_{0}^{x}t^{2}dt&#x3D;\frac{t^{3}}{3}|_{0}^{x}&#x3D;\frac{x^{3}}{3}$$</p><h2 id="积分上限函数的几何意义"><a href="#积分上限函数的几何意义" class="headerlink" title="积分上限函数的几何意义"></a>积分上限函数的几何意义</h2><p>定积分的几何意义是计算曲边梯形的面积，而积分上限函数表示的是右边线可以在$[a,b]$上变动的曲边梯形的面积函数。</p><p><img src="https://cdn.zengchen233.cn/img/image-20220303203945542.png" alt="image-20220303203945542" loading="lazy"></p><h2 id="积分上限函数求导"><a href="#积分上限函数求导" class="headerlink" title="积分上限函数求导"></a>积分上限函数求导</h2><p>$$\phi (x)&#x3D;[\int_{a}^{x}f(t)dt]’&#x3D;f(x)$$</p><p>例如：</p><p>$$[\int_{0}^{x}t^{2}dt]’&#x3D;(\frac{x^{3}}{3})’&#x3D;x^2$$</p><p>如果积分上限函数是复合函数形式则：</p><p>$$\phi (\varphi (x))&#x3D;[\int_{a}^{\varphi (x)}f(t)dt]’&#x3D;f(\varphi (x))\varphi ‘(x)$$</p><p>例如：</p><p>$$(\int_{0}^{x^2}t^2dt)’&#x3D;(\frac{x^6}{3})’&#x3D;2x^5&#x3D;(x^2)^2\cdot (x^2)’$$</p><h2 id="求下列函数的导数"><a href="#求下列函数的导数" class="headerlink" title="求下列函数的导数"></a>求下列函数的导数</h2><p>① $\int_{0}^{x}e^{-t^2}dt$</p><p><strong>解：</strong></p><p>$$(\int_{0}^{x}e^{-t^2}dt)’&#x3D;e^{-x^2}$$</p><p>② $\int_{0}^{\sqrt{x}}\sin t^2dt$</p><p><strong>解：</strong></p><p>$$(\int_{0}^{\sqrt{x}}\sin t^2dt)’&#x3D;\sin (\sqrt{x})^2\cdot (\sqrt{x})’&#x3D;\frac{\sin x}{2\sqrt{x}}$$</p><p>③ $\int_{x^{2}}^{e^{x}} \ln x d x$.</p><p><strong>解：</strong></p><p>$$ \left(\int_{x^{2}}^{e^{x}} \ln x d x\right)^{\prime}$$</p><p>$$&#x3D;\left(\int_{x^{2}}^{0} \ln x d x+\int_{0}^{e^{x}} \ln x d x\right)^{\prime}$$</p><p>$$&#x3D;\left(-\int_{0}^{x^{2}} \ln x d x+\int_{0}^{e^{x}} \ln x d x\right)^{\prime}$$</p><p>$$&#x3D;-\ln x^{2} \cdot\left(x^{2}\right)^{\prime}+\ln e^{x} \cdot\left(e^{x}\right)^{\prime}$$</p><p>$$&#x3D;-2 x \ln x^{2}+x e^{x} $$</p><h2 id="终"><a href="#终" class="headerlink" title="终"></a>终</h2><p>文章写到这里就算完结了，等到下次在有不懂的位置在更新吧，谢谢大家观看到这里！👍👍👍</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;简述：&lt;/strong&gt; 今天在做定积分习题的时候发现有一个位置不是很懂，于是我在网山搜索的时候发现了一篇有如神助的文章，特用自己的白话翻译翻译，记录一下。&lt;/p&gt;</summary>
    
    
    
    <category term="学习 - 数学" scheme="https://zengchen233.cn/categories/%E5%AD%A6%E4%B9%A0-%E6%95%B0%E5%AD%A6/"/>
    
    
    <category term="数学" scheme="https://zengchen233.cn/tags/%E6%95%B0%E5%AD%A6/"/>
    
  </entry>
  
  <entry>
    <title>Docker迁移</title>
    <link href="https://zengchen233.cn/posts/a0bbb6b2/"/>
    <id>https://zengchen233.cn/posts/a0bbb6b2/</id>
    <published>2022-02-26T18:43:41.000Z</published>
    <updated>2022-02-27T03:28:04.667Z</updated>
    
    <content type="html"><![CDATA[<p><strong>简述：</strong> 前几天把电脑重装了系统，更新到了Win11，安装Docker后发现很占C盘空间，于是便想着把Docker迁移到其他盘，并且迁移一下镜像。</p><span id="more"></span><blockquote><p>本文初发于 <strong>“曾晨de小站”</strong>  <a href="https://zengchen233.cn/">zengchen233.cn</a>，同步转载于此。</p></blockquote><h2 id="Docker-Desktop迁移"><a href="#Docker-Desktop迁移" class="headerlink" title="Docker Desktop迁移"></a>Docker Desktop迁移</h2><p>经过多方查询得知Docker可以通过软链接安装到其他盘。具体操作如下：</p><p>首先我们先退出Docker Desktop，</p><p><img src="https://cdn.zengchen233.cn/img/image-20220227104908621.png" alt="image-20220227104908621" loading="lazy"></p><p>然后卸载掉Docker Desktop，紧接着把<code>C:\Program Files\Docker</code>下面的文件夹全部清除掉，就可以执行以下命令了。</p><p>在命令提示符执行下边的命令（注意：需要管理员身份运行命令提示符）</p><pre class="language-shell" data-language="shell"><code class="language-shell">mklink &#x2F;j &quot;C:\Program Files\Docker&quot; &quot;F:\Docker&quot;</code></pre><p>最后重装Docker Desktop，可以发现Docker Desktop已经安装到了F盘。</p><p><img src="https://cdn.zengchen233.cn/img/image-20220227105206932.png" alt="image-20220227105206932" loading="lazy"></p><h2 id="Images迁移"><a href="#Images迁移" class="headerlink" title="Images迁移"></a>Images迁移</h2><h3 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h3><p>打开Docker Desktop，关闭<code>Use the WSL 2 based engine</code>,这个时候在<code>Resources</code>选项下面就会出现<code>Advance</code>选项，但是我的电脑关闭了这个选项就无法重启Docker了，于是乎这种办法暂时搁浅，等以后用别人的电脑可以了再来更新。</p><p><img src="https://cdn.zengchen233.cn/img/image-20220227105320676.png" alt="image-20220227105320676" loading="lazy"></p><h3 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h3><p>执行<code>docker info</code>可以看出Docker root路径在<code>/var/lib/docker</code>，</p><p><img src="https://cdn.zengchen233.cn/img/image-20220227105637311.png" alt="image-20220227105637311" loading="lazy"></p><p>步骤：</p><pre class="language-shell" data-language="shell"><code class="language-shell">1.首先退出Docker Desktop。</code></pre><p><img src="https://cdn.zengchen233.cn/img/image-20220227104908621.png" alt="image-20220227104908621" loading="lazy"></p><pre class="language-shell" data-language="shell"><code class="language-shell">2.wsl --shutdown</code></pre><pre class="language-shell" data-language="shell"><code class="language-shell">3.将&#96;docker-desktop-data&#96;导出到&#96;F:\docker-desktop-data.tar&#96;（注意，原有的docker images不会一起导出）wsl --export docker-desktop-data F:\docker-desktop-data.tar</code></pre><pre class="language-shell" data-language="shell"><code class="language-shell">4.注销docker-desktop-data：wsl --unregister docker-desktop-data</code></pre><pre class="language-shell" data-language="shell"><code class="language-shell">5.重新导入docker-desktop-data到要存放的文件夹：F:\Docker\wsl\wsl --import docker-desktop-data F:\Docker\wsl\  F:\docker-desktop-data.tar --version 2</code></pre><pre class="language-shell" data-language="shell"><code class="language-shell">6.然后重启Docker Desktop就可以愉快的使用啦！</code></pre><h2 id="后续"><a href="#后续" class="headerlink" title="后续"></a>后续</h2><p>Win11更新具体教程等下次找个空闲时间写下来。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;简述：&lt;/strong&gt; 前几天把电脑重装了系统，更新到了Win11，安装Docker后发现很占C盘空间，于是便想着把Docker迁移到其他盘，并且迁移一下镜像。&lt;/p&gt;</summary>
    
    
    
    <category term="学习 - Docker" scheme="https://zengchen233.cn/categories/%E5%AD%A6%E4%B9%A0-Docker/"/>
    
    
    <category term="Docker" scheme="https://zengchen233.cn/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>阿里云函数计算&amp;校趣多疫情打卡</title>
    <link href="https://zengchen233.cn/posts/ec51d430/"/>
    <id>https://zengchen233.cn/posts/ec51d430/</id>
    <published>2022-02-02T08:00:28.000Z</published>
    <updated>2022-02-25T02:36:41.798Z</updated>
    
    <content type="html"><![CDATA[<p><strong>简述：</strong> 本文转载自<a href="https://battlehawk233.cn/post/64.html">While True: learn()</a>,然后自己做了一部分小修改(增加了邮件提醒功能)。</p><span id="more"></span><blockquote><p>本文初发于 <strong>“曾晨de小站”</strong>  <a href="https://zengchen233.cn/">zengchen233.cn</a>，同步转载于此。</p></blockquote><h2 id="配置函数调用"><a href="#配置函数调用" class="headerlink" title="配置函数调用"></a>配置函数调用</h2><p>首先登陆<code>阿里云</code>，找到<code>控制台</code>-<code>函数计算FC</code>-<code>创建服务</code>，进入之后选择创建函数：</p><p><img src="https://cdn.zengchen233.cn/img/202202021610898.png" alt="image-20220202161050787" loading="lazy"></p><p>然后配置基本设置：</p><p><img src="https://cdn.zengchen233.cn/img/202202021613075.png" alt="image-20220202161319990" loading="lazy"></p><h2 id="编写-amp-上传代码"><a href="#编写-amp-上传代码" class="headerlink" title="编写&amp;上传代码"></a>编写&amp;上传代码</h2><p>原作者写的打卡脚本：</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding: utf-8 -*-</span><span class="token keyword">import</span> logging<span class="token keyword">import</span> datetime<span class="token keyword">import</span> json<span class="token keyword">import</span> os<span class="token keyword">import</span> requests <span class="token comment"># Made by BATTLEHAWK</span><span class="token comment"># https://battlehawk233.cn/</span>logger<span class="token operator">=</span>logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span><span class="token punctuation">)</span>url <span class="token operator">=</span> <span class="token string">r"https://mps.zocedu.com/corona/submitHealthCheck/submit"</span>url_info <span class="token operator">=</span> <span class="token string">r"https://mps.zocedu.com/corona/submitHealthCheck/getCurrentInfo"</span>defaultjson <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token string">"data"</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>        <span class="token string">"checkPlace"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"contactMethod"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"teacher"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"temperature"</span><span class="token punctuation">:</span> <span class="token string">"36.5"</span><span class="token punctuation">,</span>        <span class="token string">"isCohabitFever"</span><span class="token punctuation">:</span> <span class="token string">"否"</span><span class="token punctuation">,</span>        <span class="token string">"isLeavePalce"</span><span class="token punctuation">:</span> <span class="token string">"否"</span><span class="token punctuation">,</span>        <span class="token string">"beenPlace"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"isContactNcov"</span><span class="token punctuation">:</span> <span class="token string">"否"</span><span class="token punctuation">,</span>        <span class="token string">"livingPlace"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"livingPlaceDetail"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"name1"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"relation1"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"phone1"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"name2"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"relation2"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"phone2"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"remark"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"extraInfo"</span><span class="token punctuation">:</span> <span class="token string">"[]"</span><span class="token punctuation">,</span>        <span class="token string">"healthStatus"</span><span class="token punctuation">:</span> <span class="token string">"z"</span><span class="token punctuation">,</span>        <span class="token string">"emergencyContactMethod"</span><span class="token punctuation">:</span> <span class="token string">"[]"</span><span class="token punctuation">,</span>        <span class="token string">"checkPlacePoint"</span><span class="token punctuation">:</span> <span class="token string">"124,37"</span><span class="token punctuation">,</span>        <span class="token string">"checkPlaceDetail"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"checkPlaceCountry"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"checkPlaceProvince"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"checkPlaceCity"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"checkPlaceArea"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token string">"other"</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>        <span class="token string">"openid"</span><span class="token punctuation">:</span> <span class="token string">""</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>openid <span class="token operator">=</span> <span class="token string">""</span>headers <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token string">"Content-Type"</span><span class="token punctuation">:</span> <span class="token string">"application/x-www-form-urlencoded"</span><span class="token punctuation">,</span>    <span class="token string">"User-Agent"</span><span class="token punctuation">:</span> <span class="token string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36 MicroMessenger/7.0.9.501 NetType/WIFI MiniProgramEnv/Windows WindowsWechat"</span><span class="token punctuation">&#125;</span>data <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>jsonfile <span class="token operator">=</span> <span class="token string">"config.json"</span> <span class="token keyword">def</span> <span class="token function">getSessionID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    url <span class="token operator">=</span> <span class="token string">"https://mps.zocedu.com/corona/submitHealthCheck"</span>    res <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>        <span class="token string">"openId"</span><span class="token punctuation">:</span> openid<span class="token punctuation">,</span>        <span class="token string">"latitude"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"longitude"</span><span class="token punctuation">:</span> <span class="token string">""</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    sessionid <span class="token operator">=</span> res<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"JSESSIONID"</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> sessionid  <span class="token comment"># 加载Json配置文件</span><span class="token keyword">def</span> <span class="token function">loadJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> data<span class="token punctuation">,</span> openid    f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>jsonfile<span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span>    obj <span class="token operator">=</span> json<span class="token punctuation">.</span>load<span class="token punctuation">(</span>f<span class="token punctuation">)</span>    f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>    data <span class="token operator">=</span> obj<span class="token punctuation">[</span><span class="token string">"data"</span><span class="token punctuation">]</span>    openid <span class="token operator">=</span> obj<span class="token punctuation">[</span><span class="token string">"other"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"openid"</span><span class="token punctuation">]</span>  <span class="token comment"># 打卡函数</span><span class="token keyword">def</span> <span class="token function">checkIn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    cookies <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string">"JSESSIONID"</span><span class="token punctuation">:</span> getSessionID<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    res <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> cookies<span class="token operator">=</span>cookies<span class="token punctuation">)</span>    <span class="token keyword">if</span> res<span class="token punctuation">.</span>text <span class="token operator">==</span> <span class="token string">""</span><span class="token punctuation">:</span>        logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">"校趣多打卡成功！当前时间："</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">"%Y-%m-%d %H:%M:%S"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        logger<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string">"校趣多打卡失败！请检查配置文件是否填写正确！"</span><span class="token punctuation">)</span>  <span class="token comment"># 创建配置文件</span><span class="token keyword">def</span> <span class="token function">createConfigFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> defaultjson    f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>jsonfile<span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span>    json<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>defaultjson<span class="token punctuation">,</span> f<span class="token punctuation">,</span> ensure_ascii<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> indent<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>    f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">def</span> <span class="token function">handler</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>jsonfile<span class="token punctuation">)</span><span class="token punctuation">:</span>        createConfigFile<span class="token punctuation">(</span><span class="token punctuation">)</span>        logger<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string">"未检测到配置文件，请填写config.json后运行本打卡脚本!"</span><span class="token punctuation">)</span>        exit<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        loadJson<span class="token punctuation">(</span><span class="token punctuation">)</span>        checkIn<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><p> 详细说明：</p><ul><li>打卡点 checkPlace 格式：XX省-XX市-XX区</li><li>联系方式 contactMethod 格式：电话号码</li><li>居住地 livingPlace 格式：XX省-XX市-XX区</li><li>详细住址 livingPlaceDetail</li><li>打卡省份 checkPlaceProvince</li><li>打卡城市 checkPlaceCity</li><li>打卡县市区 checkPlaceArea</li></ul><p>以上这些是必须要填写的，另外还有一个不能忽视：</p><pre class="language-json" data-language="json"><code class="language-json"><span class="token property">"other"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>        <span class="token property">"openid"</span><span class="token operator">:</span> <span class="token string">""</span>    <span class="token punctuation">&#125;</span></code></pre><p>这里是一定不能忘记的，要不然就会一直报错，这里需要用到抓包工具，我推荐一个抓包工具：<a href="https://www.telerik.com/fiddler/fiddler-everywhere">Fiddler</a>。</p><h2 id="获取openid"><a href="#获取openid" class="headerlink" title="获取openid"></a>获取openid</h2><p>首先需要在电脑上登陆微信，找到校趣多的小程序：</p><p><img src="https://cdn.zengchen233.cn/img/202202021812542.png" alt="image-20220202181253494" loading="lazy"></p><p>用电脑打卡一次，去找到路径：</p><p><img src="https://cdn.zengchen233.cn/img/202202021815541.png" alt="image-20220202181541444" loading="lazy"></p><p>获取到自己openid以后就填写到代码当中去，这里最好先手动生成一下<code>config.json</code>,因为阿里云FC那个里面不知道是怎么回事，无法通过代码自动生成<code>config.json</code>。</p><h2 id="设置定时触发"><a href="#设置定时触发" class="headerlink" title="设置定时触发"></a>设置定时触发</h2><p><img src="https://cdn.zengchen233.cn/img/202202031159454.png" alt="image-20220203115927372" loading="lazy"></p><p>这里可以设置定时触发器，我设置的是上海时间每天早上六点自动打卡：<code>CRON_TZ=Asia/Shanghai 0 0 6 * * *</code>。</p><h2 id="修改版本"><a href="#修改版本" class="headerlink" title="修改版本"></a>修改版本</h2><p>这里对原先的代码进行了一些修改，增添了以下功能：</p><ul><li><input checked="" disabled="" type="checkbox"> 邮件发送</li></ul><p>代码如下：</p><pre class="language-python" data-language="python"><code class="language-python"><span class="token comment"># -*- coding: utf-8 -*-</span><span class="token keyword">import</span> logging<span class="token keyword">import</span> datetime<span class="token keyword">import</span> json<span class="token keyword">import</span> os<span class="token keyword">import</span> pytz<span class="token keyword">import</span> smtplib<span class="token keyword">import</span> requests<span class="token keyword">from</span> email<span class="token punctuation">.</span>mime<span class="token punctuation">.</span>text <span class="token keyword">import</span> MIMEText<span class="token keyword">from</span> email<span class="token punctuation">.</span>header <span class="token keyword">import</span> Headerlogger <span class="token operator">=</span> logging<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># 邮箱参数</span>sender <span class="token operator">=</span> <span class="token string">''</span>  <span class="token comment"># 发送邮箱</span>pwd <span class="token operator">=</span> <span class="token string">''</span>  <span class="token comment"># 邮箱smtp密码</span>server_host <span class="token operator">=</span> <span class="token string">''</span>  <span class="token comment"># smtp地址</span>receiver <span class="token operator">=</span> <span class="token string">''</span>  <span class="token comment"># 接收者</span><span class="token comment"># post地址</span>url <span class="token operator">=</span> <span class="token string">r"https://mps.zocedu.com/corona/submitHealthCheck/submit"</span>url_info <span class="token operator">=</span> <span class="token string">r"https://mps.zocedu.com/corona/submitHealthCheck/getCurrentInfo"</span><span class="token comment"># 生成json文件</span>defaultjson <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token string">"data"</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>        <span class="token string">"checkPlace"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"contactMethod"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"teacher"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"temperature"</span><span class="token punctuation">:</span> <span class="token string">"36.2"</span><span class="token punctuation">,</span>        <span class="token string">"isCohabitFever"</span><span class="token punctuation">:</span> <span class="token string">"否"</span><span class="token punctuation">,</span>        <span class="token string">"isLeavePalce"</span><span class="token punctuation">:</span> <span class="token string">"否"</span><span class="token punctuation">,</span>        <span class="token string">"beenPlace"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"isContactNcov"</span><span class="token punctuation">:</span> <span class="token string">"否"</span><span class="token punctuation">,</span>        <span class="token string">"livingPlace"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"livingPlaceDetail"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"name1"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"relation1"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"phone1"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"name2"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"relation2"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"phone2"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"remark"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"extraInfo"</span><span class="token punctuation">:</span> <span class="token string">"[]"</span><span class="token punctuation">,</span>        <span class="token string">"healthStatus"</span><span class="token punctuation">:</span> <span class="token string">"z"</span><span class="token punctuation">,</span>        <span class="token string">"emergencyContactMethod"</span><span class="token punctuation">:</span> <span class="token string">"[]"</span><span class="token punctuation">,</span>        <span class="token string">"checkPlacePoint"</span><span class="token punctuation">:</span> <span class="token string">"124,37"</span><span class="token punctuation">,</span>        <span class="token string">"checkPlaceDetail"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"checkPlaceCountry"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"checkPlaceProvince"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"checkPlaceCity"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"checkPlaceArea"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token string">"other"</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span>        <span class="token string">"openid"</span><span class="token punctuation">:</span> <span class="token string">""</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>openid <span class="token operator">=</span> <span class="token string">""</span>headers <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token string">"Content-Type"</span><span class="token punctuation">:</span> <span class="token string">"application/x-www-form-urlencoded"</span><span class="token punctuation">,</span>    <span class="token string">"User-Agent"</span><span class="token punctuation">:</span> <span class="token string">"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.143 Safari/537.36 MicroMessenger/7.0.9.501 NetType/WIFI MiniProgramEnv/Windows WindowsWechat"</span><span class="token punctuation">&#125;</span>data <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>jsonfile <span class="token operator">=</span> <span class="token string">"config.json"</span><span class="token comment"># 获取JSESSIONID</span><span class="token keyword">def</span> <span class="token function">getSessionID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    url <span class="token operator">=</span> <span class="token string">"https://mps.zocedu.com/corona/submitHealthCheck"</span>    res <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>        <span class="token string">"openId"</span><span class="token punctuation">:</span> openid<span class="token punctuation">,</span>        <span class="token string">"latitude"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>        <span class="token string">"longitude"</span><span class="token punctuation">:</span> <span class="token string">""</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    sessionid <span class="token operator">=</span> res<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"JSESSIONID"</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> sessionid<span class="token comment"># 加载Json配置文件</span><span class="token keyword">def</span> <span class="token function">loadJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> data<span class="token punctuation">,</span> openid    f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>jsonfile<span class="token punctuation">,</span> <span class="token string">"r"</span><span class="token punctuation">)</span>    obj <span class="token operator">=</span> json<span class="token punctuation">.</span>load<span class="token punctuation">(</span>f<span class="token punctuation">)</span>    f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>    data <span class="token operator">=</span> obj<span class="token punctuation">[</span><span class="token string">"data"</span><span class="token punctuation">]</span>    openid <span class="token operator">=</span> obj<span class="token punctuation">[</span><span class="token string">"other"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"openid"</span><span class="token punctuation">]</span><span class="token comment"># 打卡函数</span><span class="token keyword">def</span> <span class="token function">checkIn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    cookies <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string">"JSESSIONID"</span><span class="token punctuation">:</span> getSessionID<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span>    res <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> cookies<span class="token operator">=</span>cookies<span class="token punctuation">)</span>    <span class="token keyword">if</span> res<span class="token punctuation">.</span>text <span class="token operator">==</span> <span class="token string">""</span><span class="token punctuation">:</span>        logger<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token string">"校趣多打卡成功！当前时间："</span> <span class="token operator">+</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span>pytz<span class="token punctuation">.</span>timezone<span class="token punctuation">(</span><span class="token string">'PRC'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">"%Y-%m-%d %H:%M:%S"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        send_email<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        logger<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string">"校趣多打卡失败！请检查配置文件是否填写正确！"</span><span class="token punctuation">)</span>        send_error_email<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># 创建配置文件</span><span class="token keyword">def</span> <span class="token function">createConfigFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> defaultjson    f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span>jsonfile<span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span>    json<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>defaultjson<span class="token punctuation">,</span> f<span class="token punctuation">,</span> ensure_ascii<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> indent<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>    f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">send_email</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> server    <span class="token comment"># 邮件内容</span>    subject <span class="token operator">=</span> <span class="token string">'健康打卡已经完成！'</span>    time <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span>pytz<span class="token punctuation">.</span>timezone<span class="token punctuation">(</span><span class="token string">'PRC'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">"%Y-%m-%d %H:%M"</span><span class="token punctuation">)</span>    sentence <span class="token operator">=</span> <span class="token string">'当前时间为：'</span> <span class="token operator">+</span> time <span class="token operator">+</span> <span class="token string">'，当天健康打卡已经完成！'</span>    message <span class="token operator">=</span> MIMEText<span class="token punctuation">(</span>sentence<span class="token punctuation">,</span> <span class="token string">'plain'</span><span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span>    message<span class="token punctuation">[</span><span class="token string">'Subject'</span><span class="token punctuation">]</span> <span class="token operator">=</span> Header<span class="token punctuation">(</span>subject<span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span>    message<span class="token punctuation">[</span><span class="token string">'From'</span><span class="token punctuation">]</span> <span class="token operator">=</span> sender    <span class="token comment"># 发送</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        server <span class="token operator">=</span> smtplib<span class="token punctuation">.</span>SMTP_SSL<span class="token punctuation">(</span>server_host<span class="token punctuation">)</span>        server<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>server_host<span class="token punctuation">,</span> <span class="token number">465</span><span class="token punctuation">)</span>        server<span class="token punctuation">.</span>login<span class="token punctuation">(</span>sender<span class="token punctuation">,</span> pwd<span class="token punctuation">)</span>        server<span class="token punctuation">.</span>sendmail<span class="token punctuation">(</span>sender<span class="token punctuation">,</span> receiver<span class="token punctuation">,</span> message<span class="token punctuation">.</span>as_string<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"邮件发送成功"</span><span class="token punctuation">)</span>    <span class="token keyword">except</span> smtplib<span class="token punctuation">.</span>SMTPException<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Error: 无法发送邮件"</span><span class="token punctuation">)</span>    <span class="token keyword">finally</span><span class="token punctuation">:</span>        server<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">send_error_email</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">global</span> server    <span class="token comment"># 邮件内容</span>    subject <span class="token operator">=</span> <span class="token string">'好像出错啦！'</span>    time <span class="token operator">=</span> datetime<span class="token punctuation">.</span>datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span>pytz<span class="token punctuation">.</span>timezone<span class="token punctuation">(</span><span class="token string">'PRC'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">"%Y-%m-%d %H:%M"</span><span class="token punctuation">)</span>    sentence <span class="token operator">=</span> <span class="token string">'当前时间为：'</span> <span class="token operator">+</span> time <span class="token operator">+</span> <span class="token string">'，当天未完成健康打卡，请手动打卡，错误信息见控制台。'</span>    message <span class="token operator">=</span> MIMEText<span class="token punctuation">(</span>sentence<span class="token punctuation">,</span> <span class="token string">'plain'</span><span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span>    message<span class="token punctuation">[</span><span class="token string">'Subject'</span><span class="token punctuation">]</span> <span class="token operator">=</span> Header<span class="token punctuation">(</span>subject<span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span>    message<span class="token punctuation">[</span><span class="token string">'From'</span><span class="token punctuation">]</span> <span class="token operator">=</span> sender    <span class="token comment"># 发送</span>    <span class="token keyword">try</span><span class="token punctuation">:</span>        server <span class="token operator">=</span> smtplib<span class="token punctuation">.</span>SMTP_SSL<span class="token punctuation">(</span>server_host<span class="token punctuation">)</span>        server<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>server_host<span class="token punctuation">,</span> <span class="token number">465</span><span class="token punctuation">)</span>        server<span class="token punctuation">.</span>login<span class="token punctuation">(</span>sender<span class="token punctuation">,</span> pwd<span class="token punctuation">)</span>        server<span class="token punctuation">.</span>sendmail<span class="token punctuation">(</span>sender<span class="token punctuation">,</span> receiver<span class="token punctuation">,</span> message<span class="token punctuation">.</span>as_string<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"邮件发送成功"</span><span class="token punctuation">)</span>    <span class="token keyword">except</span> smtplib<span class="token punctuation">.</span>SMTPException<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Error: 无法发送邮件"</span><span class="token punctuation">)</span>    <span class="token keyword">finally</span><span class="token punctuation">:</span>        server<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">handler</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span>jsonfile<span class="token punctuation">)</span><span class="token punctuation">:</span>        createConfigFile<span class="token punctuation">(</span><span class="token punctuation">)</span>        logger<span class="token punctuation">.</span>error<span class="token punctuation">(</span><span class="token string">"未检测到配置文件，请填写config.json后运行本打卡脚本!"</span><span class="token punctuation">)</span>        exit<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        loadJson<span class="token punctuation">(</span><span class="token punctuation">)</span>        checkIn<span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre><h2 id="结果截图"><a href="#结果截图" class="headerlink" title="结果截图"></a>结果截图</h2><p><img src="https://cdn.zengchen233.cn/img/202202021829414.png" alt="image-20220202182901321" loading="lazy"></p><hr><p><img src="https://cdn.zengchen233.cn/img/202202021829832.png" alt="image-20220202182916790" loading="lazy"></p><hr><h2 id="终"><a href="#终" class="headerlink" title="终"></a>终</h2><p>我把代码放<code>Github</code>上了，欢迎大家<code>fork</code>和<code>pr</code>，谢谢大家观看！</p><p><a href="https://github.com/azeng233/xiaoquduo"><img src="https://github-readme-stats.vercel.app/api/pin/?username=azeng233&repo=xiaoquduo&show_owner=1" alt="Readme Card" loading="lazy"></a></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;简述：&lt;/strong&gt; 本文转载自&lt;a href=&quot;https://battlehawk233.cn/post/64.html&quot;&gt;While True: learn()&lt;/a&gt;,然后自己做了一部分小修改(增加了邮件提醒功能)。&lt;/p&gt;</summary>
    
    
    
    <category term="学习 - Python" scheme="https://zengchen233.cn/categories/%E5%AD%A6%E4%B9%A0-Python/"/>
    
    
    <category term="Python" scheme="https://zengchen233.cn/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>2022新春快乐呀</title>
    <link href="https://zengchen233.cn/posts/51e50410/"/>
    <id>https://zengchen233.cn/posts/51e50410/</id>
    <published>2022-01-31T11:55:48.000Z</published>
    <updated>2022-01-31T12:07:50.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>简述：</strong> 祝大家新年快乐呀！</p><span id="more"></span><blockquote><p>本文初发于 <strong>“曾晨de小站”</strong>  <a href="https://zengchen233.cn/">zengchen233.cn</a>，同步转载于此。</p></blockquote><p>新年的钟声很快就要敲响了，马上就要迎来虎年，不知道大家现在有没有吃年夜饭呀！嘿嘿我已经吃完了，我家的年夜饭种类可多了，不说了我已经形容不过来了，直接上图吧！</p><p><img src="https://cdn.zengchen233.cn/img/202201312001817.JPG" alt="IMG_7433" loading="lazy"></p><hr><p><img src="https://cdn.zengchen233.cn/img/202201312002537.JPG" alt="IMG_7431" loading="lazy"></p><hr><p>这是思思家里的年夜饭的饭菜！</p><p><img src="https://cdn.zengchen233.cn/img/202201312003496.png" alt="D356D5B45658246CAFBA8AA325420BD4" loading="lazy"></p><hr><p>在这里祝大家新年快乐呀，身体健康万事如意，新的一年里每天开开心心的就好，不要让讨人厌的人扰乱你的心情！</p><p>再放两张可爱的老虎图片吧！</p><p><img src="https://cdn.zengchen233.cn/img/202201312004930.PNG" alt="IMG_7418" loading="lazy"></p><hr><p><img src="https://cdn.zengchen233.cn/img/202201312005715.PNG" alt="IMG_7419" loading="lazy"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;简述：&lt;/strong&gt; 祝大家新年快乐呀！&lt;/p&gt;</summary>
    
    
    
    <category term="生活" scheme="https://zengchen233.cn/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="生活" scheme="https://zengchen233.cn/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>博客使用CDN加速</title>
    <link href="https://zengchen233.cn/posts/2595fb3b/"/>
    <id>https://zengchen233.cn/posts/2595fb3b/</id>
    <published>2021-12-30T08:33:34.000Z</published>
    <updated>2021-12-30T08:38:40.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>简述：</strong> 博客打开的时候还是挺快的，但是开了<a href="http://busuanzi.ibruce.info/">不蒜子</a>有时候会不显示访问量，故想给博客上一个CDN加速访问速度。</p><span id="more"></span><blockquote><p>本文初发于 <strong>“曾晨de小站”</strong>  <a href="https://zengchen233.cn/">zengchen233.cn</a>，同步转载于此。</p></blockquote><h2 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h2><p><img src="https://cdn.zengchen233.cn/img/202112301617998.png" alt="image-20211230161706882" loading="lazy"></p><h2 id="点击配置"><a href="#点击配置" class="headerlink" title="点击配置"></a>点击配置</h2><h3 id="缓存控制"><a href="#缓存控制" class="headerlink" title="缓存控制"></a>缓存控制</h3><p>点击缓存控制，分别勾选</p><ul><li><input checked="" disabled="" type="checkbox"> 分段缓存</li><li><input checked="" disabled="" type="checkbox"> 浏览器缓存</li><li><input checked="" disabled="" type="checkbox"> 设备适配 Auto_Device</li><li><input checked="" disabled="" type="checkbox"> 离线模式</li></ul><p>其他可以不选择，<del>缓存规则我自己还没整清楚</del>，哈哈哈…</p><p><img src="https://cdn.zengchen233.cn/img/202112301623657.png" alt="image-20211230162336485" loading="lazy"></p><h3 id="性能优化"><a href="#性能优化" class="headerlink" title="性能优化"></a>性能优化</h3><p>点击性能优化，勾选</p><ul><li><input checked="" disabled="" type="checkbox"> 智能压缩</li><li><input checked="" disabled="" type="checkbox"> 页面压缩</li><li><input checked="" disabled="" type="checkbox"> 重定向跟随</li><li><input checked="" disabled="" type="checkbox"> 加速区域选择全球加速</li></ul><p><img src="https://cdn.zengchen233.cn/img/202112301626013.png" alt="image-20211230162617868" loading="lazy"></p><h3 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h3><h4 id="HTTPS配置"><a href="#HTTPS配置" class="headerlink" title="HTTPS配置"></a>HTTPS配置</h4><p><img src="https://cdn.zengchen233.cn/img/202112301627950.png" alt="image-20211230162739899" loading="lazy"></p><p>分别勾选</p><ul><li><input checked="" disabled="" type="checkbox"> HSTS配置</li><li><input checked="" disabled="" type="checkbox"> TLS1.3</li><li><input checked="" disabled="" type="checkbox"> HTTP&#x2F;2</li></ul><h3 id="访问控制"><a href="#访问控制" class="headerlink" title="访问控制"></a>访问控制</h3><p>分别勾选（<del>有的自己都没搞清楚</del>）</p><ul><li><input checked="" disabled="" type="checkbox"> CORS 跨域共享</li><li><input checked="" disabled="" type="checkbox"> IP 访问限制（ 30次&#x2F;分，60秒)</li><li><input checked="" disabled="" type="checkbox"> WAF 保护</li></ul><h3 id="成本控制"><a href="#成本控制" class="headerlink" title="成本控制"></a>成本控制</h3><p><img src="https://cdn.zengchen233.cn/img/202112301631718.png" alt="image-20211230163106618" loading="lazy"></p><h3 id="图片处理，边缘规则"><a href="#图片处理，边缘规则" class="headerlink" title="图片处理，边缘规则"></a>图片处理，边缘规则</h3><p>这两个我都没开，还没整清楚，等整清楚了再单独开一期。</p><h2 id="终"><a href="#终" class="headerlink" title="终"></a>终</h2><p>等待几分钟就可以使用你的加速域名来进行访问你的博客了，尽情享受吧！</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;简述：&lt;/strong&gt; 博客打开的时候还是挺快的，但是开了&lt;a href=&quot;http://busuanzi.ibruce.info/&quot;&gt;不蒜子&lt;/a&gt;有时候会不显示访问量，故想给博客上一个CDN加速访问速度。&lt;/p&gt;</summary>
    
    
    
    <category term="CDN" scheme="https://zengchen233.cn/categories/CDN/"/>
    
    
    <category term="CDN" scheme="https://zengchen233.cn/tags/CDN/"/>
    
  </entry>
  
  <entry>
    <title>又拍云联盟</title>
    <link href="https://zengchen233.cn/posts/54b83927/"/>
    <id>https://zengchen233.cn/posts/54b83927/</id>
    <published>2021-12-21T05:10:31.000Z</published>
    <updated>2021-12-23T06:38:36.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>简述：</strong> 自己原来搭建图床总是要把图片上传到Github然后通过<a href="https://www.jsdelivr.com/">www.jsdelivr.com</a>来进行加速，但是这个网站很奇怪，总是容易挂掉，我有一天无聊在网上发现了<a href="https://www.upyun.com/">又拍云</a>发现业界十分好评，我就抱着试一试的态度去尝试了一下，发现真的很好用，先来推荐给大家。</p><span id="more"></span><blockquote><p>本文初发于 <strong>“曾晨de小站”</strong>  <a href="https://zengchen233.cn/">zengchen233.cn</a>，同步转载于此。</p></blockquote><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>这里来向大家推荐一下又拍云，欢迎大家使用又拍云，有一个活动叫又拍云联盟，可以每个月<del>白嫖</del>一部分免费存储空间和免费CDN流量。</p><p><img src="https://cdn.zengchen233.cn/img/202112222007403.png" alt="image-20211222200711297" loading="lazy"></p><p>我们就需要在网站底部添加一段信息:</p><blockquote><p><span>本网站由</span><a class="footer-support-logo" href="[https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral](https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral)" target="blank" title="又拍云"><img height="30" src="https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/logo/upyun-logo.png" alt="又拍云" loading="lazy"></a><span>提供 CDN 加速</span></p></blockquote><p>代码如下：</p><pre class="language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>本网站由<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>footer-support-logo<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>[https://www.upyun.com/?utm_source=lianmeng&amp;utm_medium=referral](https://www.upyun.com/?utm_source=lianmeng&amp;utm_medium=referral)<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>blank<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>又拍云<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>30<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/logo/upyun-logo.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>又拍云<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>提供 CDN 加速<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span></code></pre><p>代码效果如上⬆</p><h2 id="什么是CDN？"><a href="#什么是CDN？" class="headerlink" title="什么是CDN？"></a>什么是CDN？</h2><p>CDN 的全称是 Content Delivery Network，即内容分发网络。</p><p>CDN 是构建在现有网络基础之上的智能虚拟网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。</p><blockquote><p>更多的内容您可以参见 <a href="https://baike.baidu.com/item/CDN">CDN | 百度百科</a></p></blockquote><p>简而言之，CDN 做的事情就是将你的站点静态文件缓存在各个城市的节点，一旦有人访问你的站点，CDN 便会让其去最近的节点取资源，使得网站的访问速度尽可能提高。也分担了站点的访问压力。</p><p>我的博客现在还没什么访问量，就没有上CDN，等啥时候我的服务器不堪重负（<del>这辈子怕是不可能了</del>😭😭）了在上CDN吧…</p><p>在这里插播一条广告：</p><p>这里是我的又拍<a href="https://console.upyun.com/register/?invite=S1DwXaRcF">云返利链接</a>从这里注册并消费我会吃到回扣！（当然其实又拍云联盟赠送的量对于个人来说就基本够用了。赠送的额度不够用的时候，说明有很多人在关注你啦，就去找又拍云合作吧！）</p><h2 id="又拍云服务"><a href="#又拍云服务" class="headerlink" title="又拍云服务"></a>又拍云服务</h2><h3 id="云存储-图床"><a href="#云存储-图床" class="headerlink" title="云存储 - 图床"></a>云存储 - 图床</h3><p>说到云存储，其实各大云服务商都有各自类似的服务。腾讯云的叫作为对象存储<code>COS</code>（Cloud Object Storage），阿里云的则叫作对象存储 <code>OSS</code>（Object Storage Service）。</p><p>博客图片对于站长来说有时是一个大难题，一是图片逐渐增多时、体积和备份的问题，二则是图片加载往往会占用不少带宽。<br>所以我的博文也总是尽量以文字为主，偶尔穿插进几张图片。</p><p>写 Markdown 时，图片往往是使用链接的方式放在文章中，这是便会用到我们所说的图床。<br>即上传自己的图片，它提供一个可以访问的链接给你。</p><p>有一些公共的图床服务，譬如 <a href="https://sm.ms/">sm.ms</a>、<a href="https://imgtu.com/">路过图床</a>。你可以使用它们，但是图片往往会被审核、而在你毫不知情的情况下被删除，而使用的图床服务较为小众，还有跑路的风险。<br>    我博客此前不少的图片放在了 <code>Github</code> 上，但是后来一段时间它在国内常常无法正常加载，经常网站挂掉。</p><p>所以最后我基本都将其迁移至了又拍云的云存储，一是我可以享受又拍云独有的 <code>WebP</code> 自适应功能，二则是我可以共用我的代金券（继续白嫖），且在国内能有一个还不错的访问速度。</p><h3 id="全球加速"><a href="#全球加速" class="headerlink" title="全球加速"></a>全球加速</h3><p>虽然咱的博客基本都是中文，面向国内的，但是谁不想走向世界国际化呢？我自然也希望她（我的博客）能在国外同样可以流畅地打开。</p><p>而腾讯云赠送的 CDN 流量则只支持国内加速。又拍云则同样提供了全球加速的选项。</p><h2 id="搭建图床"><a href="#搭建图床" class="headerlink" title="搭建图床"></a>搭建图床</h2><p>我是通过<code>Typora</code>和<code>Picgo</code>来进行图片上传到又拍云的，<code>Typora</code>最近又出了正是本本，毫无疑问贫穷的我冲了<code>Typora</code>，详情可见：</p><iframe src="//player.bilibili.com/player.html?aid=252173792&bvid=BV1TY411x7dt&cid=457500640&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><p>然后Typora的设置可以参照我的设置大家进行调整：</p><p><img src="https://cdn.zengchen233.cn/img/202112231433515.png" alt="image-20211223143348410" loading="lazy"></p><details>  <summary>小请求🌪</summary>  希望大家可以点击我的连接注册一下下，如果更有可能还可以消费一下，嘿嘿！😊</details><h2 id="如何使用CDN"><a href="#如何使用CDN" class="headerlink" title="如何使用CDN"></a>如何使用CDN</h2><p>等我的博客需要用到CDN的时候我再来更新吧，今天就到这里，大家下次再见！</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;简述：&lt;/strong&gt; 自己原来搭建图床总是要把图片上传到Github然后通过&lt;a href=&quot;https://www.jsdelivr.com/&quot;&gt;www.jsdelivr.com&lt;/a&gt;来进行加速，但是这个网站很奇怪，总是容易挂掉，我有一天无聊在网上发现了&lt;a href=&quot;https://www.upyun.com/&quot;&gt;又拍云&lt;/a&gt;发现业界十分好评，我就抱着试一试的态度去尝试了一下，发现真的很好用，先来推荐给大家。&lt;/p&gt;</summary>
    
    
    
    <category term="CDN" scheme="https://zengchen233.cn/categories/CDN/"/>
    
    
    <category term="CDN" scheme="https://zengchen233.cn/tags/CDN/"/>
    
  </entry>
  
  <entry>
    <title>软件设计师顺利拿下</title>
    <link href="https://zengchen233.cn/posts/a49b2911/"/>
    <id>https://zengchen233.cn/posts/a49b2911/</id>
    <published>2021-12-20T08:16:12.000Z</published>
    <updated>2021-12-22T11:56:40.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>简述：</strong> 今天上课的时候突然李楷彬喊我查成绩，激动了大半节课，终于查出来了软考的成绩。</p><span id="more"></span><blockquote><p>本文初发于 <strong>“曾晨de小站”</strong>  <a href="https://zengchen233.cn/">zengchen233.cn</a>，同步转载于此。</p></blockquote><hr><p><img src="http://cdn.zengchen233.cn/img/202112201855545.png" alt="软考成绩单" loading="lazy"></p><p>拿捏哈哈！</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;简述：&lt;/strong&gt; 今天上课的时候突然李楷彬喊我查成绩，激动了大半节课，终于查出来了软考的成绩。&lt;/p&gt;</summary>
    
    
    
    <category term="考证" scheme="https://zengchen233.cn/categories/%E8%80%83%E8%AF%81/"/>
    
    
    <category term="考证" scheme="https://zengchen233.cn/tags/%E8%80%83%E8%AF%81/"/>
    
  </entry>
  
  <entry>
    <title>SSM项目的基本配置文件</title>
    <link href="https://zengchen233.cn/posts/d196d015/"/>
    <id>https://zengchen233.cn/posts/d196d015/</id>
    <published>2021-12-17T07:58:17.000Z</published>
    <updated>2021-12-17T08:57:10.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>简述：</strong> 最近在学习Spring的时候发现了需要写很多配置文件，每次写练手项目的时候就很难受，到处没有模板，故写此文章来记录。</p><span id="more"></span><blockquote><p>本文初发于 <strong>“曾晨de小站”</strong>  <a href="https://zengchen233.cn/">zengchen233.cn</a>，同步转载于此。</p></blockquote><p><code>mybatis-config.xml</code></p><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8" ?></span><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span>        <span class="token name">PUBLIC</span> <span class="token string">"-//mybatis.org//DTD Config 3.0//EN"</span>        <span class="token string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span></code></pre><p><code>spring-dao.xml</code></p><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>DataSource<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.springframework.jdbc.datasource.DriverManagerDataSource<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>driverClassName<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.mysql.cj.jdbc.Driver<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span>                  <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jdbc:mysql://localhost:3306/数据库名称?useUnicode=true<span class="token entity named-entity" title="&amp;">&amp;amp;</span>characterEncoding=utf8<span class="token entity named-entity" title="&amp;">&amp;amp;</span>serverTimezone=Asia/Shanghai<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>数据库用户名<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>数据库密码<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sqlSessionFactory<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.mybatis.spring.SqlSessionFactoryBean<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>DataSource<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>configLocation<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>classpath:mybatis-config.xml<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mapperLocations<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>classpath:cn/zengchen233/dao/*.xml<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span></code></pre><p><code>applicationContext.xml</code></p><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>aop</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/context<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd        http://www.springframework.org/schema/context        https://www.springframework.org/schema/context/spring-context.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span></code></pre><p>自动装配Bean需要用到这个注解<code>&lt;aop:component-scan base-package=&quot;cn.zengchen233&quot;/&gt;</code></p><p>然后在类中配置<code>@Component</code>,这个注解可以在后面增加括号指定Bean的名称 <code>@Component(&quot;名称&quot;)</code></p><p><strong>注意注意！必须要开启注解，要不然不管用的。</strong></p><p>还有自动装配需要这个注解<code>&lt;context:annotation-config/&gt;</code> 有的时候在类中用到了其他类，这个时候有很懒不想去配置xml配置文件，这个时候通过<code>@Autowired</code>自动装配方式，从<code>IoC</code>容器中去查找到，并返回给该属性，很棒！</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;简述：&lt;/strong&gt; 最近在学习Spring的时候发现了需要写很多配置文件，每次写练手项目的时候就很难受，到处没有模板，故写此文章来记录。&lt;/p&gt;</summary>
    
    
    
    <category term="学习 - SSM" scheme="https://zengchen233.cn/categories/%E5%AD%A6%E4%B9%A0-SSM/"/>
    
    
    <category term="SSM" scheme="https://zengchen233.cn/tags/SSM/"/>
    
  </entry>
  
  <entry>
    <title>Docker学习笔记</title>
    <link href="https://zengchen233.cn/posts/4a3d459a/"/>
    <id>https://zengchen233.cn/posts/4a3d459a/</id>
    <published>2021-12-02T13:44:43.000Z</published>
    <updated>2021-12-07T04:48:50.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>简述：</strong> 在狂神说学习Docker，本文章主要记录一些项目的实战。</p><span id="more"></span><blockquote><p>本文初发于 <strong>“曾晨de小站”</strong>  <a href="https://zengchen233.cn/">zengchen233.cn</a>，同步转载于此。</p></blockquote><p><em><strong><u>注：本文假设阅读者会使用Docker。</u></strong></em></p><h1 id="Nginx部署"><a href="#Nginx部署" class="headerlink" title="Nginx部署"></a>Nginx部署</h1><h2 id="搜索并下载镜像"><a href="#搜索并下载镜像" class="headerlink" title="搜索并下载镜像"></a>搜索并下载镜像</h2><pre class="language-shell" data-language="shell"><code class="language-shell">[root@zengchen ~]# docker search nginxNAME                              DESCRIPTION                                     STARS     OFFICIAL   AUTOMATEDnginx                             Official build of Nginx.                        15903     [OK]jwilder&#x2F;nginx-proxy               Automated Nginx reverse proxy for docker con…   2098                 [OK]richarvey&#x2F;nginx-php-fpm           Container running Nginx + PHP-FPM capable of…   820                  [OK]jc21&#x2F;nginx-proxy-manager          Docker container for managing Nginx proxy ho…   285linuxserver&#x2F;nginx                 An Nginx container, brought to you by LinuxS…   160tiangolo&#x2F;nginx-rtmp               Docker image with Nginx using the nginx-rtmp…   147                  [OK]jlesage&#x2F;nginx-proxy-manager       Docker container for Nginx Proxy Manager        144                  [OK]alfg&#x2F;nginx-rtmp                   NGINX, nginx-rtmp-module and FFmpeg from sou…   110                  [OK]nginxdemos&#x2F;hello                  NGINX webserver that serves a simple page co…   79                   [OK]privatebin&#x2F;nginx-fpm-alpine       PrivateBin running on an Nginx, php-fpm &amp; Al…   61                   [OK]nginx&#x2F;nginx-ingress               NGINX and  NGINX Plus Ingress Controllers fo…   57nginxinc&#x2F;nginx-unprivileged       Unprivileged NGINX Dockerfiles                  54nginxproxy&#x2F;nginx-proxy            Automated Nginx reverse proxy for docker con…   28staticfloat&#x2F;nginx-certbot         Opinionated setup for automatic TLS certs lo…   25                   [OK]nginx&#x2F;nginx-prometheus-exporter   NGINX Prometheus Exporter for NGINX and NGIN…   22schmunk42&#x2F;nginx-redirect          A very simple container to redirect HTTP tra…   19                   [OK]centos&#x2F;nginx-112-centos7          Platform for running nginx 1.12 or building …   16centos&#x2F;nginx-18-centos7           Platform for running nginx 1.8 or building n…   13flashspys&#x2F;nginx-static            Super Lightweight Nginx Image                   11                   [OK]bitwarden&#x2F;nginx                   The Bitwarden nginx web server acting as a r…   11mailu&#x2F;nginx                       Mailu nginx frontend                            9                    [OK]sophos&#x2F;nginx-vts-exporter         Simple server that scrapes Nginx vts stats a…   7                    [OK]ansibleplaybookbundle&#x2F;nginx-apb   An APB to deploy NGINX                          3                    [OK]wodby&#x2F;nginx                       Generic nginx                                   1                    [OK]arnau&#x2F;nginx-gate                  Docker image with Nginx with Lua enabled on …   1                    [OK][root@zengchen ~]# docker pull nginxUsing default tag: latestlatest: Pulling from library&#x2F;nginxe5ae68f74026: Pull complete21e0df283cd6: Pull completeed835de16acd: Pull complete881ff011f1c9: Pull complete77700c52c969: Pull complete44be98c0fab6: Pull completeDigest: sha256:92a41cec180dd3cc645e5a8968d41b4aba786c4956e20020212e1d5636a7eda5Status: Downloaded newer image for nginx:latestdocker.io&#x2F;library&#x2F;nginx:latest</code></pre><p>详细信息可以去<a href="https://registry.hub.docker.com/_/nginx">官网</a>查看</p><h2 id="运行测试"><a href="#运行测试" class="headerlink" title="运行测试"></a><strong>运行测试</strong></h2><pre class="language-shell" data-language="shell"><code class="language-shell">[root@zengchen html]# docker run -d -p 8090:80 --name nginx -v &#x2F;home&#x2F;nginx&#x2F;html:&#x2F;usr&#x2F;share&#x2F;nginx&#x2F;html nginx[root@zengchen html]# docker psCONTAINER ID   IMAGE     COMMAND                  CREATED          STATUS          PORTS                  NAMES04e68d8e70e7   nginx     &quot;&#x2F;docker-entrypoint.…&quot;   57 seconds ago   Up 56 seconds   0.0.0.0:8090-&gt;80&#x2F;tcp   nginx</code></pre><p>可以通过<code>curl localhost:8090</code>来查看网页源代码。</p><h1 id="Tomcat部署"><a href="#Tomcat部署" class="headerlink" title="Tomcat部署"></a>Tomcat部署</h1><h2 id="搜索并下载镜像-1"><a href="#搜索并下载镜像-1" class="headerlink" title="搜索并下载镜像"></a>搜索并下载镜像</h2><pre class="language-shell" data-language="shell"><code class="language-shell">[root@zengchen ~]# docker search tomcatNAME                          DESCRIPTION                                     STARS     OFFICIAL   AUTOMATEDtomcat                        Apache Tomcat is an open source implementati…   3186      [OK]tomee                         Apache TomEE is an all-Apache Java EE certif…   94        [OK]dordoka&#x2F;tomcat                Ubuntu 14.04, Oracle JDK 8 and Tomcat 8 base…   58                   [OK]kubeguide&#x2F;tomcat-app          Tomcat image for Chapter 1                      31consol&#x2F;tomcat-7.0             Tomcat 7.0.57, 8080, &quot;admin&#x2F;admin&quot;              18                   [OK]cloudesire&#x2F;tomcat             Tomcat server, 6&#x2F;7&#x2F;8                            15                   [OK]aallam&#x2F;tomcat-mysql           Debian, Oracle JDK, Tomcat &amp; MySQL              13                   [OK]arm32v7&#x2F;tomcat                Apache Tomcat is an open source implementati…   11andreptb&#x2F;tomcat               Debian Jessie based image with Apache Tomcat…   10                   [OK]rightctrl&#x2F;tomcat              CentOS , Oracle Java, tomcat application ssl…   7                    [OK]arm64v8&#x2F;tomcat                Apache Tomcat is an open source implementati…   6unidata&#x2F;tomcat-docker         Security-hardened Tomcat Docker container.      5                    [OK]amd64&#x2F;tomcat                  Apache Tomcat is an open source implementati…   3jelastic&#x2F;tomcat               An image of the Tomcat Java application serv…   2cfje&#x2F;tomcat-resource          Tomcat Concourse Resource                       2oobsri&#x2F;tomcat8                Testing CI Jobs with different names.           2fabric8&#x2F;tomcat-8              Fabric8 Tomcat 8 Image                          2                    [OK]camptocamp&#x2F;tomcat-logback     Docker image for tomcat with logback integra…   1                    [OK]picoded&#x2F;tomcat7               tomcat7 with jre8 and MANAGER_USER &#x2F; MANAGER…   1                    [OK]ppc64le&#x2F;tomcat                Apache Tomcat is an open source implementati…   1chenyufeng&#x2F;tomcat-centos      tomcat基于centos6的镜像                              1                    [OK]99taxis&#x2F;tomcat7               Tomcat7                                         1                    [OK]secoresearch&#x2F;tomcat-varnish   Tomcat and Varnish 5.0                          0                    [OK]softwareplant&#x2F;tomcat          Tomcat images for jira-cloud testing            0                    [OK]s390x&#x2F;tomcat                  Apache Tomcat is an open source implementati…   0</code></pre><h2 id="运行容器"><a href="#运行容器" class="headerlink" title="运行容器"></a>运行容器</h2><pre class="language-shell" data-language="shell"><code class="language-shell">[root@zengchen ~]# docker run -d -p 8090:8080 --name tomcat -v                               &#x2F;home&#x2F;tomcat&#x2F;test:&#x2F;usr&#x2F;local&#x2F;tomcat&#x2F;webapps&#x2F;test tomcat:9.0920314ff05613f32ccd8167b4aedcc867a0ead219371ec04f708784c51b3f036</code></pre><p>可以首先进入容器<code>    docker exec -it 62d770e36ad9a5 /bin/bash</code></p><p>找到tomcat的根目录，你会发现<code>webapps</code>下面什么东西都没有，这时候就要执行一条命令：<code>cp -r webapps.dist/* webapps/</code></p><pre class="language-shell" data-language="shell"><code class="language-shell">root@62d770e36ad9:&#x2F;usr&#x2F;local&#x2F;tomcat&#x2F;webapps# lsROOT  docs  examples  host-manager  manager</code></pre><p>然后东西就全部进来了。</p><p>这个时候就可以<code>curl localhost:8090</code></p><pre class="language-html" data-language="html"><code class="language-html">[root@zengchen ~]# curl localhost:8090<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>HTTP Status 404 – Not Found<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css"><span class="token selector">body</span> <span class="token punctuation">&#123;</span><span class="token property">font-family</span><span class="token punctuation">:</span>Tahoma<span class="token punctuation">,</span>Arial<span class="token punctuation">,</span>sans-serif<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token selector">h1, h2, h3, b</span> <span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span>white<span class="token punctuation">;</span><span class="token property">background-color</span><span class="token punctuation">:</span>#525D76<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token selector">h1</span> <span class="token punctuation">&#123;</span><span class="token property">font-size</span><span class="token punctuation">:</span>22px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token selector">h2</span> <span class="token punctuation">&#123;</span><span class="token property">font-size</span><span class="token punctuation">:</span>16px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token selector">h3</span> <span class="token punctuation">&#123;</span><span class="token property">font-size</span><span class="token punctuation">:</span>14px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token selector">p</span> <span class="token punctuation">&#123;</span><span class="token property">font-size</span><span class="token punctuation">:</span>12px<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token selector">a</span> <span class="token punctuation">&#123;</span><span class="token property">color</span><span class="token punctuation">:</span>black<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token selector">.line</span> <span class="token punctuation">&#123;</span><span class="token property">height</span><span class="token punctuation">:</span>1px<span class="token punctuation">;</span><span class="token property">background-color</span><span class="token punctuation">:</span>#525D76<span class="token punctuation">;</span><span class="token property">border</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span><span class="token punctuation">&#125;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>HTTP Status 404 – Not Found<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>line<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">></span></span>Type<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">></span></span> Status Report<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">></span></span>Description<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">></span></span> The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>line<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>Apache Tomcat/9.0.55<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre><h1 id="创建自己的镜像"><a href="#创建自己的镜像" class="headerlink" title="创建自己的镜像"></a>创建自己的镜像</h1><h2 id="编写Dockerfile"><a href="#编写Dockerfile" class="headerlink" title="编写Dockerfile"></a>编写Dockerfile</h2><p>这里的路径为<code>/home/tomcat</code></p><pre class="language-dockerfile" data-language="dockerfile"><code class="language-dockerfile">FROM centosMAINTAINER zengchen&lt;1239571995@qq.com&gt;COPY README.txt &#x2F;usr&#x2F;local&#x2F;README.txtADD jdk-8u311-linux-x64.tar.gz &#x2F;usr&#x2F;localADD apache-tomcat-9.0.55.tar.gz &#x2F;usr&#x2F;localRUN yum -y install vimENV MYPATH &#x2F;usr&#x2F;localWORKDIR $MYPATHENV JAVA_HOME &#x2F;usr&#x2F;local&#x2F;jdk1.8.0_311ENV CLASSPATH $JAVA_HOME&#x2F;lib&#x2F;dt.jar:$JAVA_HOME&#x2F;lib&#x2F;tools.jarENV CATALINA_HOME &#x2F;usr&#x2F;local&#x2F;apache-tomcat-9.0.55ENV CATALINA_BASE &#x2F;usr&#x2F;local&#x2F;apache-tomcat-9.0.55ENV PATH $PATH:$JAVA_HOME&#x2F;bin:$CATALINA_HOME&#x2F;lib:$CATALINA_HOME&#x2F;binEXPOSE 8080CMD &#x2F;usr&#x2F;local&#x2F;apache-tomcat-9.0.55&#x2F;bin&#x2F;startup.sh &amp;&amp; tail -F &#x2F;usr&#x2F;local&#x2F;apache-tomcat-9.0.55&#x2F;bin&#x2F;logs&#x2F;catalina.out</code></pre><p>这里的tomcat和jdk就需要自己去下载了。</p><h2 id="创建镜像"><a href="#创建镜像" class="headerlink" title="创建镜像"></a>创建镜像</h2><pre class="language-shell" data-language="shell"><code class="language-shell">docker build -t zengchen233&#x2F;dittomcat:1.0 .</code></pre><h2 id="运行镜像"><a href="#运行镜像" class="headerlink" title="运行镜像"></a>运行镜像</h2><pre class="language-shell" data-language="shell"><code class="language-shell">docker run -d -p 8090:8080 --name diytomcat -v &#x2F;home&#x2F;tomcat&#x2F;webapps&#x2F;自己项目的路径:&#x2F;usr&#x2F;local&#x2F;apache-tomcat-9.0.55&#x2F;webapps&#x2F;自己项目的路径 -v &#x2F;home&#x2F;tomcat&#x2F;webapps&#x2F;tomcatlogs&#x2F;:&#x2F;usr&#x2F;local&#x2F;apache-tomcat-9.0.55&#x2F;logs diytomcat</code></pre><p>这个时候就可以<code>curl localhost:8090</code></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;简述：&lt;/strong&gt; 在狂神说学习Docker，本文章主要记录一些项目的实战。&lt;/p&gt;</summary>
    
    
    
    <category term="学习 - Docker" scheme="https://zengchen233.cn/categories/%E5%AD%A6%E4%B9%A0-Docker/"/>
    
    
    <category term="Docker" scheme="https://zengchen233.cn/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>20岁生日啦!</title>
    <link href="https://zengchen233.cn/posts/4756f01a/"/>
    <id>https://zengchen233.cn/posts/4756f01a/</id>
    <published>2021-10-24T13:45:41.000Z</published>
    <updated>2021-12-20T10:53:42.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>简述：</strong> 今天是我20岁生日啦！</p><span id="more"></span><blockquote><p>本文初发于 <strong>“曾晨de小站”</strong>  <a href="https://zengchen233.cn/">zengchen233.cn</a>，同步转载于此。</p></blockquote><p>今天是个很特殊的日子，嘿嘿，今天是我的20岁生日！过去的20岁我过的很平淡，没有什么很突出的地方，没有什么很出众的地方，但是我还是一步一步的走到了今天。20岁在古时候就意味着要成家，要独当一面，但是现在我还是个学生，我会好好读书来让自己更加成熟，让自己可以渐渐的独当一面！</p><p>今天思思也给我买了一个生日蛋糕子！不说了上图片！</p><p><img src="http://cdn.zengchen233.cn/img/202112201852817.jpg" loading="lazy"></p><hr><p><img src="http://cdn.zengchen233.cn/img/202112201853599.jpg" loading="lazy"></p><hr><p>真的是万飞开心欸！希望以后都可以这样，太棒啦！ヾ(≧▽≦*)o！</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;简述：&lt;/strong&gt; 今天是我20岁生日啦！&lt;/p&gt;</summary>
    
    
    
    <category term="生活" scheme="https://zengchen233.cn/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="生活" scheme="https://zengchen233.cn/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>班级篮球赛</title>
    <link href="https://zengchen233.cn/posts/4d820402/"/>
    <id>https://zengchen233.cn/posts/4d820402/</id>
    <published>2021-10-13T13:26:16.000Z</published>
    <updated>2021-12-20T11:15:36.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>简述：</strong> 班级篮球赛结束啦！</p><span id="more"></span><blockquote><p>本文初发于 <strong>“曾晨de小站”</strong>  <a href="https://zengchen233.cn/">zengchen233.cn</a>，同步转载于此。</p></blockquote><p>班级篮球赛终于结束啦，想着把我的精彩图片发到博客来纪念一下！</p><iframe src="//player.bilibili.com/player.html?aid=721029773&bvid=BV1UQ4y1B7Jq&cid=424604671&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><p><img src="http://cdn.zengchen233.cn/img/202112201856185.jpeg" alt="1" loading="lazy"></p><p><img src="http://cdn.zengchen233.cn/img/202112201858491.jpeg" loading="lazy"></p><p><img src="http://cdn.zengchen233.cn/img/202112201859065.jpeg" loading="lazy"></p><p><img src="http://cdn.zengchen233.cn/img/202112201901891.jpeg" loading="lazy"></p><p><img src="http://cdn.zengchen233.cn/img/202112201903671.jpg" loading="lazy"></p><p><img src="http://cdn.zengchen233.cn/img/202112201904472.jpg" loading="lazy"></p><p><img src="http://cdn.zengchen233.cn/img/202112201904950.jpg" loading="lazy"></p><p><img src="http://cdn.zengchen233.cn/img/202112201904881.jpg" loading="lazy"></p><p><img src="http://cdn.zengchen233.cn/img/202112201905974.jpg" loading="lazy"></p><p><img src="http://cdn.zengchen233.cn/img/202112201905482.jpg" loading="lazy"></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;简述：&lt;/strong&gt; 班级篮球赛结束啦！&lt;/p&gt;</summary>
    
    
    
    <category term="生活" scheme="https://zengchen233.cn/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="生活" scheme="https://zengchen233.cn/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>WebStorm快捷键</title>
    <link href="https://zengchen233.cn/posts/4219ed39/"/>
    <id>https://zengchen233.cn/posts/4219ed39/</id>
    <published>2021-09-26T03:05:33.000Z</published>
    <updated>2021-10-24T14:10:44.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>简述：</strong> 常用的WebStorm快捷键（不断更新）</p><span id="more"></span><blockquote><p>本文初发于 <strong>“曾晨de小站”</strong>  <a href="https://zengchen233.cn/">zengchen233.cn</a>，同步转载于此。</p></blockquote><p>下面是Webstorm的一些常用快捷键：</p><pre class="language-none"><code class="language-none">1. ctrl + shift + n: 打开工程中的文件，目的是打开当前工程下任意目录的文件。2. ctrl + j: 输出模板3. ctrl + b: 跳到变量申明处4. ctrl + alt + T: 围绕包裹代码(包括zencoding的Wrap with Abbreviation)5. ctrl + []: 匹配 &#123;&#125;[]6. ctrl + F12: 可以显示当前文件的结构7. ctrl + x: 剪切(删除)行，不选中，直接剪切整个行，如果选中部分内容则剪切选中的内容8. alt + left&#x2F;right:标签切换9. ctrl + r: 替换10. ctrl + shift + up: 行移动11. shift + alt + up: 块移动(if()&#123;&#125;,while()&#123;&#125;语句块的移动)12. ctrl + d: 行复制13. ctrl + shift + ]&#x2F;[: 选中块代码14. ctrl + &#x2F; : 单行注释15. ctrl + shift + &#x2F; : 块注释16. ctrl + shift + i : 显示当前CSS选择器或者JS函数的详细信息17. ctrl + &#39;-&#x2F;+&#39;: 可以折叠项目中的任何代码块，它不是选中折叠，而是自动识别折叠。18. ctrl + &#39;.&#39;: 折叠选中的代码的代码。19. ctrl+&#x2F; 单行注释20. ctrl+shift+&#x2F;块注释21. ctrl+shift+ +&#x2F;-展开&#x2F;折叠22. ctrl+alt+L 格式化代码23. ctrl+shift+ up&#x2F;down 上下移动句子24. Alt+回车 导入包,自动修正25. Ctrl+N 查找类26. Ctrl+Shift+N 查找文件27. Ctrl+Alt+L 格式化代码28. Ctrl+Alt+O 优化导入的类和包29. Alt+Insert 生成代码(如get,set方法,构造函数等)30. Ctrl+E或者Alt+Shift+C 最近更改的代码31. Ctrl+R 替换文本32. Ctrl+F 查找文本33. Ctrl+Shift+Space 自动补全代码34. Ctrl+空格 代码提示35. Ctrl+Alt+Space 类名或接口名提示36. Ctrl+P 方法参数提示37. Ctrl+Shift+Alt+N 查找类中的方法或变量38. Alt+Shift+C 对比最近修改的代码39. Shift+F6 重构-重命名40. Ctrl+Shift+先上键41. Ctrl+X 删除行42. Ctrl+D 复制行43. Ctrl+&#x2F; 或 Ctrl+Shift+&#x2F; 注释（&#x2F;&#x2F; 或者&#x2F;*...*&#x2F; ）44. Ctrl+J 自动代码45. Ctrl+E 最近打开的文件46. Ctrl+H 显示类结构图47. Ctrl+Q 显示注释文档48. Alt+F1 查找代码所在位置49. Alt+1 快速打开或隐藏工程面板</code></pre><hr><p>参考</p><ul><li><a href="https://zengchen233.cn/posts/c01e70d5/">IDEA常规快捷键</a></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;简述：&lt;/strong&gt; 常用的WebStorm快捷键（不断更新）&lt;/p&gt;</summary>
    
    
    
    <category term="学习 - WebStorm" scheme="https://zengchen233.cn/categories/%E5%AD%A6%E4%B9%A0-WebStorm/"/>
    
    
    <category term="WebStorm" scheme="https://zengchen233.cn/tags/WebStorm/"/>
    
  </entry>
  
  <entry>
    <title>四六级双双过关</title>
    <link href="https://zengchen233.cn/posts/7b403b35/"/>
    <id>https://zengchen233.cn/posts/7b403b35/</id>
    <published>2021-08-26T06:34:51.000Z</published>
    <updated>2021-12-20T10:55:36.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>简述：</strong> 四级和六级都过啦！</p><span id="more"></span><blockquote><p>本文初发于 <strong>“曾晨de小站”</strong>  <a href="https://zengchen233.cn/">zengchen233.cn</a>，同步转载于此。</p></blockquote><p>四级成绩：</p><p><img src="http://cdn.zengchen233.cn/img/202112201855578.png" alt="四级成绩单" loading="lazy"></p><p>六级成绩：</p><p><img src="http://cdn.zengchen233.cn/img/202112201855702.png" alt="六级成绩单" loading="lazy"></p><p>希望下一次可以向500分迈进！加油！😊😊😊</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;简述：&lt;/strong&gt; 四级和六级都过啦！&lt;/p&gt;</summary>
    
    
    
    <category term="生活" scheme="https://zengchen233.cn/categories/%E7%94%9F%E6%B4%BB/"/>
    
    
    <category term="生活" scheme="https://zengchen233.cn/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>MyBatis学习笔记</title>
    <link href="https://zengchen233.cn/posts/5177b49d/"/>
    <id>https://zengchen233.cn/posts/5177b49d/</id>
    <published>2021-08-11T09:44:24.000Z</published>
    <updated>2021-12-07T05:03:14.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>简述：</strong> MyBatis学习笔记，仅供自己学习使用。视频地址：<a href="https://www.bilibili.com/video/BV1NE411Q7Nx">【狂神说Java】Mybatis最新完整教程IDEA版通俗易懂</a></p><span id="more"></span><blockquote><p>本文初发于 <strong>“曾晨de小站”</strong>  <a href="https://zengchen233.cn/">zengchen233.cn</a>，同步转载于此。</p></blockquote><h2 id="什么是MyBatis"><a href="#什么是MyBatis" class="headerlink" title="什么是MyBatis"></a>什么是MyBatis</h2><p>我们先来谈谈什么是MyBatis：</p><ul><li>MyBatis 是一款优秀的<strong>持久层框架</strong></li><li>MyBatis 避免了几乎所有的 JDBC 代码和手动设置参数以及获取结果集的过程</li><li>MyBatis 可以使用简单的 XML 或注解来配置和映射原生信息，将接口和 Java 的 实体类 【Plain Old Java Objects,普通的 Java对象】映射成数据库中的记录。</li><li>MyBatis 本是apache的一个开源项目ibatis, 2010年这个项目由apache 迁移到了google code，并且改名为MyBatis 。</li></ul><h2 id="持久化"><a href="#持久化" class="headerlink" title="持久化"></a>持久化</h2><p><strong>持久化是将程序数据在持久状态和瞬时状态间转换的机制。</strong></p><ul><li>即把数据（如内存中的对象）保存到可永久保存的存储设备中（如磁盘）。持久化的主要应用是将内存中的对象存储在数据库中，或者存储在磁盘文件中、XML数据文件中等等。</li><li>JDBC就是一种持久化机制。文件IO也是一种持久化机制。</li><li>在生活中 : 将鲜肉冷藏，吃的时候再解冻的方法也是。将水果做成罐头的方法也是。</li></ul><p><strong>为什么需要持久化服务呢？那是由于内存本身的缺陷引起的</strong></p><ul><li>内存断电后数据会丢失，但有一些对象是无论如何都不能丢失的，比如银行账号等，遗憾的是，人们还无法保证内存永不掉电。</li><li>内存过于昂贵，与硬盘、光盘等外存相比，内存的价格要高2~3个数量级，而且维持成本也高，至少需要一直供电吧。所以即使对象不需要永久保存，也会因为内存的容量限制不能一直呆在内存中，需要持久化来缓存到外存。</li></ul><h2 id="持久层"><a href="#持久层" class="headerlink" title="持久层"></a>持久层</h2><p><strong>什么是持久层？</strong></p><ul><li>完成持久化工作的代码块 .  —-&gt;  dao层 【DAO (Data Access Object)  数据访问对象】</li><li>大多数情况下特别是企业级应用，数据持久化往往也就意味着将内存中的数据保存到磁盘上加以固化，而持久化的实现过程则大多通过各种<strong>关系数据库</strong>来完成。</li><li>不过这里有一个字需要特别强调，也就是所谓的“层”。对于应用系统而言，数据持久功能大多是必不可少的组成部分。也就是说，我们的系统中，已经天然的具备了“持久层”概念？也许是，但也许实际情况并非如此。之所以要独立出一个“持久层”的概念,而不是“持久模块”，“持久单元”，也就意味着，我们的系统架构中，应该有一个相对独立的逻辑层面，专注于数据持久化逻辑的实现.</li><li>与系统其他部分相对而言，这个层面应该具有一个较为清晰和严格的逻辑边界。【说白了就是用来操作数据库存在的！】</li></ul><h2 id="为什么需要Mybatis"><a href="#为什么需要Mybatis" class="headerlink" title="为什么需要Mybatis"></a>为什么需要Mybatis</h2><ul><li><p>Mybatis就是帮助程序猿将数据存入数据库中 , 和从数据库中取数据 .</p></li><li><p>传统的jdbc操作 , 有很多重复代码块 .比如 : 数据取出时的封装 , 数据库的建立连接等等… , 通过框架可以减少重复代码,提高开发效率 .</p></li><li><p>MyBatis 是一个半自动化的<strong>ORM框架 (Object Relationship Mapping) –&gt;对象关系映射</strong></p></li><li><p>所有的事情，不用Mybatis依旧可以做到，只是用了它，所有实现会更加简单！<strong>技术没有高低之分，只有使用这个技术的人有高低之别</strong></p></li><li><p>MyBatis的<strong>优点</strong></p></li><li><ul><li>简单易学：本身就很小且简单。没有任何第三方依赖，最简单安装只要两个jar文件+配置几个sql映射文件就可以了，易于学习，易于使用，通过文档和源代码，可以比较完全的掌握它的设计思路和实现。</li><li>灵活：mybatis不会对应用程序或者数据库的现有设计强加任何影响。sql写在xml里，便于统一管理和优化。通过sql语句可以满足操作数据库的所有需求。</li><li>解除sql与程序代码的耦合：通过提供DAO层，将业务逻辑和数据访问逻辑分离，使系统的设计更清晰，更易维护，更易单元测试。sql和代码的分离，提高了可维护性。</li><li>提供xml标签，支持编写动态sql。</li><li>…….</li></ul></li><li><p>最重要的一点，使用的人多！公司需要！</p></li></ul><h2 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h2><h3 id="首先需要在Maven导jar包"><a href="#首先需要在Maven导jar包" class="headerlink" title="首先需要在Maven导jar包"></a>首先需要在Maven导jar包</h3><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.5.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>8.0.23<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre><h3 id="编写MyBatis核心配置文件"><a href="#编写MyBatis核心配置文件" class="headerlink" title="编写MyBatis核心配置文件"></a>编写MyBatis核心配置文件</h3><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8" ?></span><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">configuration</span>        <span class="token name">PUBLIC</span> <span class="token string">"-//mybatis.org//DTD Config 3.0//EN"</span>        <span class="token string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--核心配置文件--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--引入外部配置文件--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>local.properties<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>logImpl<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>STDOUT_LOGGING<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> <span class="token comment">&lt;!--标准的日志工厂实现--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mapUnderscoreToCamelCase<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token comment">&lt;!--&lt;setting name="logImpl" value="LOG4J"/>--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--起别名--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAliases</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>typeAlias</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cn.zengchen233.pojo.Blog<span class="token punctuation">"</span></span> <span class="token attr-name">alias</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Blog<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>typeAliases</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>development<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>development<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>JDBC<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>POOLED<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>driver<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;driver&#125;<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;url&#125;<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;username&#125;<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;password&#125;<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--绑定接口--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mappers</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cn.zengchen233.dao.BlogMapper<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mappers</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span></code></pre><h3 id="编写MyBatis工具类"><a href="#编写MyBatis工具类" class="headerlink" title="编写MyBatis工具类"></a>编写MyBatis工具类</h3><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>zengchen233<span class="token punctuation">.</span>utils</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Resources</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSession</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactory</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span><span class="token punctuation">;</span><span class="token comment">// SqlSessionFactory --> SqlSession</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MybatisUtils</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory<span class="token punctuation">;</span>    <span class="token keyword">static</span><span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//获取sqlSessionFactory对象</span>            <span class="token class-name">String</span> resource <span class="token operator">=</span> <span class="token string">"mybatis-config.xml"</span><span class="token punctuation">;</span>            <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span>resource<span class="token punctuation">)</span><span class="token punctuation">;</span>            sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span>inputStream<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// 既然有了 SqlSessionFactory，顾名思义，我们可以从中获得 SqlSession 的实例。SqlSession 提供了在数据库执行 SQL</span>    <span class="token comment">// 命令所需的所有方法。你可以通过 SqlSession 实例来直接执行已映射的 SQL 语句。</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">SqlSession</span> <span class="token function">getSqlSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//自动化提交</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>常见资源导出不了的问题，在pom.xml添加如下代码：</p><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">></span></span>src/main/java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">></span></span>**/*.properties<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">></span></span>**/*.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filtering</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filtering</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">></span></span>src/main/resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">></span></span>**/*.properties<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">></span></span>**/*.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filtering</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filtering</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">></span></span></code></pre><h2 id="日志工厂"><a href="#日志工厂" class="headerlink" title="日志工厂"></a>日志工厂</h2><blockquote><p>思考：我们在测试SQL的时候，要是能够在控制台输出 SQL 的话，是不是就能够有更快的排错效率？</p></blockquote><p>如果一个 数据库相关的操作出现了问题，我们可以根据输出的SQL语句快速排查问题。</p><p>对于以往的开发过程，我们会经常使用到debug模式来调节，跟踪我们的代码执行过程。但是现在使用Mybatis是基于接口，配置文件的源代码执行过程。因此，我们必须选择日志工具来作为我们开发，调节程序的工具。</p><p>Mybatis内置的日志工厂提供日志功能，具体的日志实现有以下几种工具：</p><ul><li>SLF4J</li><li>Apache Commons Logging</li><li>Log4j 2</li><li>Log4j</li><li>JDK logging</li></ul><p>具体选择哪个日志实现工具由MyBatis的内置日志工厂确定。它会使用最先找到的（按上文列举的顺序查找）。如果一个都未找到，日志功能就会被禁用。</p><h3 id="标准日志实现"><a href="#标准日志实现" class="headerlink" title="标准日志实现"></a><strong>标准日志实现</strong></h3><p>指定 MyBatis 应该使用哪个日志记录实现。如果此设置不存在，则会自动发现日志记录实现。</p><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>logImpl<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>STDOUT_LOGGING<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">></span></span></code></pre><h3 id="Log4j"><a href="#Log4j" class="headerlink" title="Log4j"></a><strong>Log4j</strong></h3><p><strong>简介：</strong></p><ul><li>Log4j是Apache的一个开源项目</li><li>通过使用Log4j，我们可以控制日志信息输送的目的地：控制台，文本，GUI组件….</li><li>我们也可以控制每一条日志的输出格式；</li><li>通过定义每一条日志信息的级别，我们能够更加细致地控制日志的生成过程。最令人感兴趣的就是，这些可以通过一个配置文件来灵活地进行配置，而不需要修改应用的代码。</li></ul><p><strong>使用步骤：</strong></p><p>1、导入log4j的包</p><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.2.17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre><p>2、配置文件编写</p><pre class="language-properties" data-language="properties"><code class="language-properties"><span class="token comment">#将等级为DEBUG的日志信息输出到console和file这两个目的地，console和file的定义在下面的代码</span><span class="token attr-name">log4j.rootLogger</span><span class="token punctuation">=</span><span class="token attr-value">DEBUG,console,file</span><span class="token comment">#控制台输出的相关设置</span><span class="token attr-name">log4j.appender.console</span> <span class="token punctuation">=</span> <span class="token attr-value">org.apache.log4j.ConsoleAppender</span><span class="token attr-name">log4j.appender.console.Target</span> <span class="token punctuation">=</span> <span class="token attr-value">System.out</span><span class="token attr-name">log4j.appender.console.Threshold</span><span class="token punctuation">=</span><span class="token attr-value">DEBUG</span><span class="token attr-name">log4j.appender.console.layout</span> <span class="token punctuation">=</span> <span class="token attr-value">org.apache.log4j.PatternLayout</span><span class="token attr-name">log4j.appender.console.layout.ConversionPattern</span><span class="token punctuation">=</span><span class="token attr-value">[%c]-%m%n</span><span class="token comment">#文件输出的相关设置</span><span class="token attr-name">log4j.appender.file</span> <span class="token punctuation">=</span> <span class="token attr-value">org.apache.log4j.RollingFileAppender</span><span class="token attr-name">log4j.appender.file.File</span><span class="token punctuation">=</span><span class="token attr-value">./log/kuang.log</span><span class="token attr-name">log4j.appender.file.MaxFileSize</span><span class="token punctuation">=</span><span class="token attr-value">10mb</span><span class="token attr-name">log4j.appender.file.Threshold</span><span class="token punctuation">=</span><span class="token attr-value">DEBUG</span><span class="token attr-name">log4j.appender.file.layout</span><span class="token punctuation">=</span><span class="token attr-value">org.apache.log4j.PatternLayout</span><span class="token attr-name">log4j.appender.file.layout.ConversionPattern</span><span class="token punctuation">=</span><span class="token attr-value">[%p][%d&#123;yy-MM-dd&#125;][%c]%m%n</span><span class="token comment">#日志输出级别</span><span class="token attr-name">log4j.logger.org.mybatis</span><span class="token punctuation">=</span><span class="token attr-value">DEBUG</span><span class="token attr-name">log4j.logger.java.sql</span><span class="token punctuation">=</span><span class="token attr-value">DEBUG</span><span class="token attr-name">log4j.logger.java.sql.Statement</span><span class="token punctuation">=</span><span class="token attr-value">DEBUG</span><span class="token attr-name">log4j.logger.java.sql.ResultSet</span><span class="token punctuation">=</span><span class="token attr-value">DEBUG</span><span class="token attr-name">log4j.logger.java.sql.PreparedStatement</span><span class="token punctuation">=</span><span class="token attr-value">DEBUG</span></code></pre><h3 id="setting设置日志实现"><a href="#setting设置日志实现" class="headerlink" title="setting设置日志实现"></a>setting设置日志实现</h3><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>settings</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>setting</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>logImpl<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>LOG4J<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>settings</span><span class="token punctuation">></span></span></code></pre><h3 id="在程序中使用Log4j进行输出！"><a href="#在程序中使用Log4j进行输出！" class="headerlink" title="在程序中使用Log4j进行输出！"></a>在程序中使用Log4j进行输出！</h3><pre class="language-java" data-language="java"><code class="language-java"><span class="token comment">//注意导包：org.apache.log4j.Logger</span><span class="token keyword">static</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">Logger</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">MyTest</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">selectUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>   logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"info：进入selectUser方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   logger<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">"debug：进入selectUser方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"error: 进入selectUser方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token class-name">SqlSession</span> session <span class="token operator">=</span> <span class="token class-name">MybatisUtils</span><span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token class-name">UserMapper</span> mapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> users <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">selectUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token operator">:</span> users<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>   session<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h2 id="limit实现分页"><a href="#limit实现分页" class="headerlink" title="limit实现分页"></a>limit实现分页</h2><p><strong>思考：为什么需要分页？</strong></p><p>在学习mybatis等持久层框架的时候，会经常对数据进行增删改查操作，使用最多的是对数据库进行查询操作，如果查询大量数据的时候，我们往往使用分页进行查询，也就是每次处理小部分数据，这样对数据库压力就在可控范围内。</p><h3 id="使用Limit实现分页"><a href="#使用Limit实现分页" class="headerlink" title="使用Limit实现分页"></a><strong>使用Limit实现分页</strong></h3><pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token comment">#语法</span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">table</span> <span class="token keyword">LIMIT</span> stratIndex，pageSize<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">table</span> <span class="token keyword">LIMIT</span> <span class="token number">5</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// 检索记录行 6-15  </span><span class="token comment">#为了检索从某一个偏移量到记录集的结束所有的记录行，可以指定第二个参数为 -1：   </span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">table</span> <span class="token keyword">LIMIT</span> <span class="token number">95</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 检索记录行 96-last.  </span><span class="token comment">#如果只给定一个参数，它表示返回最大的记录行数目：   </span><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> <span class="token keyword">table</span> <span class="token keyword">LIMIT</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">//检索前 5 个记录行  </span><span class="token comment">#换句话说，LIMIT n 等价于 LIMIT 0,n。 </span></code></pre><p><strong>步骤：</strong></p><p>1、修改Mapper文件</p><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>selectUser<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  select * from user limit #&#123;startIndex&#125;,#&#123;pageSize&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span></code></pre><p>2、Mapper接口，参数为map</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token comment">//选择全部用户实现分页</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> <span class="token function">selectUser</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> map<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>3、在测试类中传入参数测试</p><ul><li>推断：<font color="red">起始位置 &#x3D;  （当前页面 - 1 ） * 页面大小 </font>（这个很重要，项目中都能用上）</li></ul><pre class="language-java" data-language="java"><code class="language-java"><span class="token comment">//分页查询 , 两个参数startIndex , pageSize</span><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testSelectUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>   <span class="token class-name">SqlSession</span> session <span class="token operator">=</span> <span class="token class-name">MybatisUtils</span><span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token class-name">UserMapper</span> mapper <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">UserMapper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token keyword">int</span> currentPage <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">//第几页</span>   <span class="token keyword">int</span> pageSize <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token comment">//每页显示几个</span>   <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"startIndex"</span><span class="token punctuation">,</span><span class="token punctuation">(</span>currentPage<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span>pageSize<span class="token punctuation">)</span><span class="token punctuation">;</span>   map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"pageSize"</span><span class="token punctuation">,</span>pageSize<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> users <span class="token operator">=</span> mapper<span class="token punctuation">.</span><span class="token function">selectUser</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token operator">:</span> users<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">&#125;</span>   session<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span></code></pre><h2 id="利用注解开发"><a href="#利用注解开发" class="headerlink" title="利用注解开发"></a>利用注解开发</h2><ul><li><p><strong>mybatis最初配置信息是基于 XML ,映射语句(SQL)也是定义在 XML 中的。而到MyBatis 3提供了新的基于注解的配置。不幸的是，Java 注解的的表达力和灵活性十分有限。最强大的 MyBatis 映射并不能用注解来构建</strong></p></li><li><p>sql 类型主要分成 :</p></li><li><ul><li>@select ()</li><li>@update ()</li><li>@Insert ()</li><li>@delete ()</li></ul></li></ul><p><strong>注意：</strong>利用注解开发就不需要mapper.xml映射文件了 .</p><h3 id="关于-Param"><a href="#关于-Param" class="headerlink" title="关于@Param"></a>关于@Param</h3><p>@Param注解用于给方法参数起一个名字。以下是总结的使用原则：</p><ul><li>在方法只接受一个参数的情况下，可以不使用@Param。</li><li>在方法接受多个参数的情况下，建议一定要使用@Param注解给参数命名。</li><li>如果参数是 JavaBean ， 则不能使用@Param。</li><li>不使用@Param注解时，参数只能有一个，并且是Javabean。</li></ul><h3 id="与-的区别"><a href="#与-的区别" class="headerlink" title="#与$的区别"></a>#与$的区别</h3><ul><li><p>#{} 的作用主要是替换预编译语句(PrepareStatement)中的占位符? 【推荐使用】</p><pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token keyword">user</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token comment">#&#123;name&#125;);</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token keyword">user</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>?<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li><li><p>${} 的作用是直接进行字符串替换</p><pre class="language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token keyword">user</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'$&#123;name&#125;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token keyword">user</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'kuangshen'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></li></ul><blockquote><p>使用注解和配置文件协同开发，才是MyBatis的最佳实践！</p></blockquote><h2 id="动态SQL"><a href="#动态SQL" class="headerlink" title="动态SQL"></a>动态SQL</h2><p>什么是动态SQL：<strong>动态SQL指的是根据不同的查询条件 , 生成不同的Sql语句.</strong></p><pre class="language-none"><code class="language-none">官网描述：MyBatis 的强大特性之一便是它的动态 SQL。如果你有使用 JDBC 或其它类似框架的经验，你就能体会到根据不同条件拼接 SQL 语句的痛苦。例如拼接时要确保不能忘记添加必要的空格，还要注意去掉列表最后一个列名的逗号。利用动态 SQL 这一特性可以彻底摆脱这种痛苦。虽然在以前使用动态 SQL 并非一件易事，但正是 MyBatis 提供了可以被用在任意 SQL 映射语句中的强大的动态 SQL 语言得以改进这种情形。动态 SQL 元素和 JSTL 或基于类似 XML 的文本处理器相似。在 MyBatis 之前的版本中，有很多元素需要花时间了解。MyBatis 3 大大精简了元素种类，现在只需学习原来一半的元素便可。MyBatis 采用功能强大的基于 OGNL 的表达式来淘汰其它大部分元素。  -------------------------------  - if  - choose (when, otherwise)  - trim (where, set)  - foreach  -------------------------------</code></pre><p>我们之前写的 SQL 语句都比较简单，如果有比较复杂的业务，我们需要写复杂的 SQL 语句，往往需要拼接，而拼接 SQL ，稍微不注意，由于引号，空格等缺失可能都会导致错误。</p><p>那么怎么去解决这个问题呢？这就要使用 mybatis 动态SQL，通过 if, choose, when, otherwise, trim, where, set, foreach等标签，可组合成非常灵活的SQL语句，从而在提高 SQL 语句的准确性的同时，也大大提高了开发人员的效率。</p><h3 id="if-语句"><a href="#if-语句" class="headerlink" title="if 语句"></a>if 语句</h3><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--需求1：根据作者名字和博客名字来查询博客！如果作者名字为空，那么只根据博客名字查询，反之，则根据作者名来查询select * from blog where title = #&#123;title&#125; and author = #&#123;author&#125;--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>queryBlogIf<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>blog<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  select * from blog where   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title != null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      title = #&#123;title&#125;   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>author != null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      and author = #&#123;author&#125;   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span></code></pre><p>这样写我们可以看到，如果 author 等于 null，那么查询语句为 select * from user where title&#x3D;#{title},但是如果title为空呢？那么查询语句为 select * from user where and author&#x3D;#{author}，这是错误的 SQL 语句，如何解决呢？请看下面的 where 语句！</p><h3 id="Where语句"><a href="#Where语句" class="headerlink" title="Where语句"></a>Where语句</h3><p>修改上面的SQL语句；</p><pre class="language-none"><code class="language-none">&lt;select id&#x3D;&quot;queryBlogIf&quot; parameterType&#x3D;&quot;map&quot; resultType&#x3D;&quot;blog&quot;&gt;  select * from blog   &lt;where&gt;       &lt;if test&#x3D;&quot;title !&#x3D; null&quot;&gt;          title &#x3D; #&#123;title&#125;       &lt;&#x2F;if&gt;       &lt;if test&#x3D;&quot;author !&#x3D; null&quot;&gt;          and author &#x3D; #&#123;author&#125;       &lt;&#x2F;if&gt;   &lt;&#x2F;where&gt;&lt;&#x2F;select&gt;</code></pre><p>这个“where”标签会知道如果它包含的标签中有返回值的话，它就插入一个‘where’。此外，如果标签返回的内容是以AND 或OR 开头的，则它会剔除掉。</p><h3 id="Set语句"><a href="#Set语句" class="headerlink" title="Set语句"></a>Set语句</h3><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--注意set是用的逗号隔开--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>updateBlog<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  update blog     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title != null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            title = #&#123;title&#125;,         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>author != null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            author = #&#123;author&#125;         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">></span></span>  where id = #&#123;id&#125;;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>update</span><span class="token punctuation">></span></span></code></pre><h3 id="choose语句"><a href="#choose语句" class="headerlink" title="choose语句"></a>choose语句</h3><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>queryBlogChoose<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>blog<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  select * from blog   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>choose</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title != null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                title = #&#123;title&#125;           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>author != null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>              and author = #&#123;author&#125;           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">></span></span>           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>otherwise</span><span class="token punctuation">></span></span>              and views = #&#123;views&#125;           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>otherwise</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>choose</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span></code></pre><h3 id="SQL片段"><a href="#SQL片段" class="headerlink" title="SQL片段"></a>SQL片段</h3><p>有时候可能某个 sql 语句我们用的特别多，为了增加代码的重用性，简化代码，我们需要将这些代码抽取出来，然后使用时直接调用。</p><p><strong>提取SQL片段：</strong></p><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sql</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>if-title-author<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>title != null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      title = #&#123;title&#125;   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>author != null<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      and author = #&#123;author&#125;   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sql</span><span class="token punctuation">></span></span></code></pre><p><strong>引用SQL片段：</strong></p><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>queryBlogIf<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>blog<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  select * from blog   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">></span></span>       <span class="token comment">&lt;!-- 引用 sql 片段，如果refid 指定的不在本文件中，那么需要在前面加上 namespace --></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>if-title-author<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">></span></span>       <span class="token comment">&lt;!-- 在这里还可以引用其他的 sql 片段 --></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span></code></pre><p>注意：</p><p>①、最好基于 单表来定义 sql 片段，提高片段的可重用性</p><p>②、在 sql 片段中不要包括 where</p><h3 id="Foreach"><a href="#Foreach" class="headerlink" title="Foreach"></a>Foreach</h3><p>将数据库中前三个数据的id修改为1,2,3；</p><p>需求：我们需要查询 blog 表中 id 分别为1,2,3的博客信息</p><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>queryBlogForeach<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>map<span class="token punctuation">"</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>blog<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  select * from blog   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">></span></span>       <span class="token comment">&lt;!--       collection:指定输入对象中的集合属性       item:每次遍历生成的对象       open:开始遍历时的拼接字符串       close:结束时拼接的字符串       separator:遍历对象之间需要拼接的字符串       select * from blog where 1=1 and (id=1 or id=2 or id=3)     --></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span> <span class="token attr-name">collection</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ids<span class="token punctuation">"</span></span>  <span class="token attr-name">item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">open</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>and (<span class="token punctuation">"</span></span> <span class="token attr-name">close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>)<span class="token punctuation">"</span></span> <span class="token attr-name">separator</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>or<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>          id=#&#123;id&#125;       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foreach</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span></code></pre><h2 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h2><p>这里还没学，等学了再来更新。。。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;简述：&lt;/strong&gt; MyBatis学习笔记，仅供自己学习使用。视频地址：&lt;a href=&quot;https://www.bilibili.com/video/BV1NE411Q7Nx&quot;&gt;【狂神说Java】Mybatis最新完整教程IDEA版通俗易懂&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="学习 - SSM" scheme="https://zengchen233.cn/categories/%E5%AD%A6%E4%B9%A0-SSM/"/>
    
    
    <category term="SSM" scheme="https://zengchen233.cn/tags/SSM/"/>
    
  </entry>
  
  <entry>
    <title>Dao层的撰写模板</title>
    <link href="https://zengchen233.cn/posts/76d2171/"/>
    <id>https://zengchen233.cn/posts/76d2171/</id>
    <published>2021-07-23T01:42:22.000Z</published>
    <updated>2021-07-23T01:45:34.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>简述：</strong> 记录项目的Dao层的模板，用来实现代码复用，功能：连接数据库，增删改查CRUD，关闭连接资源。</p><span id="more"></span><blockquote><p>本文初发于 <strong>“曾晨de小站”</strong>  <a href="https://zengchen233.cn/">zengchen233.cn</a>，同步转载于此。</p></blockquote><p><code>BaseDao.java</code></p><pre class="language-java" data-language="java"><code class="language-java"><span class="token comment">//操作数据库的公共类</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BaseDao</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> driver<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> url<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>    <span class="token comment">//静态代码块，类加载的时候就初始化</span>    <span class="token keyword">static</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Properties</span> properties <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//通过类加载器读取对应的资源</span>        <span class="token comment">//云服务器</span>        <span class="token comment">// InputStream is = BaseDao.class.getClassLoader().getResourceAsStream("database.properties");</span>        <span class="token comment">//本地服务器</span>        <span class="token class-name">InputStream</span> is <span class="token operator">=</span> <span class="token class-name">BaseDao</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">"local.properties"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            properties<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>is<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        driver <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        url <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"url"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        username <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        password <span class="token operator">=</span> properties<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//获取数据库链接</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// System.out.println("数据库初始化中...");</span>            <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>driver<span class="token punctuation">)</span><span class="token punctuation">;</span>            connection <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// System.out.println("数据库连接成功!");</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> connection<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//编写查询公共类</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">ResultSet</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">Connection</span> connection<span class="token punctuation">,</span> <span class="token class-name">PreparedStatement</span> preparedStatement<span class="token punctuation">,</span> <span class="token class-name">String</span> sql<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> params<span class="token punctuation">,</span> <span class="token class-name">ResultSet</span> resultSet<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//用到了预编译，不需要传参,直接执行</span>        preparedStatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> params<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//占位符从1开始，但是数组从0开始 可能有很多问号 问号从1开始</span>            preparedStatement<span class="token punctuation">.</span><span class="token function">setObject</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>params<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> preparedStatement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//编写增删改公共方法</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token class-name">Connection</span> connection<span class="token punctuation">,</span>  <span class="token class-name">PreparedStatement</span> preparedStatement<span class="token punctuation">,</span> <span class="token class-name">String</span> sql<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> params<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//用到了预编译，不需要传参,直接执行</span>        preparedStatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> params<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//占位符从1开始，但是数组从0开始 可能有很多问号 问号从1开始</span>            preparedStatement<span class="token punctuation">.</span><span class="token function">setObject</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span>params<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> preparedStatement<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//释放资源</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">closeResources</span><span class="token punctuation">(</span><span class="token class-name">Connection</span> connection<span class="token punctuation">,</span> <span class="token class-name">PreparedStatement</span> preparedStatement<span class="token punctuation">,</span> <span class="token class-name">ResultSet</span> resultSet<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">boolean</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>resultSet <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                resultSet<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                resultSet <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">//GC回收</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>preparedStatement <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                preparedStatement<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                preparedStatement <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">//GC回收</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>connection <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                connection <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">//GC回收</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;简述：&lt;/strong&gt; 记录项目的Dao层的模板，用来实现代码复用，功能：连接数据库，增删改查CRUD，关闭连接资源。&lt;/p&gt;</summary>
    
    
    
    <category term="学习 - JavaWeb" scheme="https://zengchen233.cn/categories/%E5%AD%A6%E4%B9%A0-JavaWeb/"/>
    
    
    <category term="JavaWeb" scheme="https://zengchen233.cn/tags/JavaWeb/"/>
    
  </entry>
  
  <entry>
    <title>数据库名字踩坑</title>
    <link href="https://zengchen233.cn/posts/763d2423/"/>
    <id>https://zengchen233.cn/posts/763d2423/</id>
    <published>2021-07-17T05:22:16.000Z</published>
    <updated>2021-12-20T10:55:42.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>简述：</strong> 数据库名字踩坑。</p><span id="more"></span><blockquote><p>本文初发于 <strong>“曾晨de小站”</strong>  <a href="https://zengchen233.cn/">zengchen233.cn</a>，同步转载于此。</p></blockquote><p>今天在做项目的时候发现配置好的<code>local.properties</code>文件，BaseDao无法通过这个文件连接到数据库，我千辛万苦的排错，最终在打印出来<code>properties</code>文件的时候发现乱码了…</p><p><img src="http://cdn.zengchen233.cn/img/202112201855176.jpeg" loading="lazy"></p><p>居然乱码了😭😭😭</p><p>原因是数据库名字是中文：宿舍管理系统，但是在打印的时候直接乱码，在我改成英文后就能跑了，太难啦！</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;简述：&lt;/strong&gt; 数据库名字踩坑。&lt;/p&gt;</summary>
    
    
    
    <category term="学习 - MySql" scheme="https://zengchen233.cn/categories/%E5%AD%A6%E4%B9%A0-MySql/"/>
    
    
    <category term="MySql" scheme="https://zengchen233.cn/tags/MySql/"/>
    
  </entry>
  
  <entry>
    <title>JavaWeb中的监听器和过滤器</title>
    <link href="https://zengchen233.cn/posts/cc734e38/"/>
    <id>https://zengchen233.cn/posts/cc734e38/</id>
    <published>2021-07-14T13:35:05.000Z</published>
    <updated>2021-07-14T13:51:36.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>简述：</strong> JavaWeb中的监听器和过滤器他们的用法详解。</p><span id="more"></span><blockquote><p>本文初发于 <strong>“曾晨de小站”</strong>  <a href="https://zengchen233.cn/">zengchen233.cn</a>，同步转载于此。</p></blockquote><h2 id="过滤器Filter"><a href="#过滤器Filter" class="headerlink" title="过滤器Filter"></a>过滤器Filter</h2><p>比如说写一个LoginDemo</p><p>用户登录之后才能进入主页！用户注销后就不能进入主页了！</p><ol><li><p>用户登录之后，向Sesison中放入用户的数据</p></li><li><p>进入主页的时候要判断用户是否已经登录；要求：在过滤器中实现！</p></li></ol><p>我们可以使用过滤器来过滤掉非法请求，示例代码如下：</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>zengchen233<span class="token punctuation">.</span>filter</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">cn<span class="token punctuation">.</span>zengchen233<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Constant</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SysFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> filterConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Filter</span><span class="token punctuation">.</span><span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>filterConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Filter</span><span class="token punctuation">.</span><span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> chain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">HttpServletRequest</span> req <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">)</span> request<span class="token punctuation">;</span>        <span class="token class-name">HttpServletResponse</span> resp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">)</span> response<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token class-name">Constant</span><span class="token punctuation">.</span>USER_SESSION<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            resp<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span><span class="token string">"/500.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>上述代码讲的是过滤掉&#x2F;sys&#x2F;*下面的全部请求，如果没有这个Session就会把你重定向到&#x2F;500.jsp这么页面底下，完美解决了登陆问题，完整代码：<a href="https://gitee.com/azeng233/javaweb-learning/tree/master/LoginDemo">LoginDemo</a>。</p><h2 id="监听器Listener"><a href="#监听器Listener" class="headerlink" title="监听器Listener"></a>监听器Listener</h2><p>监听器可以用来监听很多事件的发生，一般用在gui编程当中，此处是web编程用来监听在线人数，示例代码：</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>zengchen233<span class="token punctuation">.</span>listener</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletContext</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSessionEvent</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpSessionListener</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OnlineCountListener</span> <span class="token keyword">implements</span> <span class="token class-name">HttpSessionListener</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sessionCreated</span><span class="token punctuation">(</span><span class="token class-name">HttpSessionEvent</span> se<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">ServletContext</span> ctx <span class="token operator">=</span> se<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// System.out.println(se.getSession().getId());</span>        <span class="token class-name">Integer</span> onlineCount <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"OnlineCount"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>onlineCount <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            onlineCount <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> count <span class="token operator">=</span> onlineCount<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            onlineCount <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        ctx<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"OnlineCount"</span><span class="token punctuation">,</span>onlineCount<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sessionDestroyed</span><span class="token punctuation">(</span><span class="token class-name">HttpSessionEvent</span> se<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">ServletContext</span> ctx <span class="token operator">=</span> se<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// System.out.println(se.getSession().getId());</span>        <span class="token class-name">Integer</span> onlineCount <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"OnlineCount"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>onlineCount <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            onlineCount <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> count <span class="token operator">=</span> onlineCount<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            onlineCount <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>count <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        ctx<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"OnlineCount"</span><span class="token punctuation">,</span>onlineCount<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>此处用到了装箱拆箱，这块地方还不怎么懂，还需要复习复习Java SE。</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;简述：&lt;/strong&gt; JavaWeb中的监听器和过滤器他们的用法详解。&lt;/p&gt;</summary>
    
    
    
    <category term="学习 - JavaWeb" scheme="https://zengchen233.cn/categories/%E5%AD%A6%E4%B9%A0-JavaWeb/"/>
    
    
    <category term="JavaWeb" scheme="https://zengchen233.cn/tags/JavaWeb/"/>
    
  </entry>
  
  <entry>
    <title>web.xml中&lt;context-param&gt;标签的作用</title>
    <link href="https://zengchen233.cn/posts/290d96b8/"/>
    <id>https://zengchen233.cn/posts/290d96b8/</id>
    <published>2021-07-12T13:41:50.000Z</published>
    <updated>2021-07-12T13:48:06.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>简述：</strong> web.xml中<context-param>标签的作用。</p><span id="more"></span><blockquote><p>本文初发于 <strong>“曾晨de小站”</strong>  <a href="https://zengchen233.cn/">zengchen233.cn</a>，同步转载于此。</p></blockquote><h3 id="获取初始化参数"><a href="#获取初始化参数" class="headerlink" title="获取初始化参数"></a>获取初始化参数</h3><p>首先在web.xml中配置一下信息</p><pre class="language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>url<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>jdbc:mysql://mysql.zengchen233.cn:3306/广告墙<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">></span></span></code></pre><p>通过以上定义，我们可以在一个新的Servlet中获取到这个<code>param-name</code></p><p>示例代码：</p><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">cn<span class="token punctuation">.</span>zengchen233<span class="token punctuation">.</span>servlet</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletContext</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token comment">//获取初始化数据</span><span class="token keyword">public</span> <span class="token keyword">class</span> getParameterServlet <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        resp<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        req<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ServletContext</span> context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> url <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getInitParameter</span><span class="token punctuation">(</span><span class="token string">"url"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"获取的url为"</span> <span class="token operator">+</span> url<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span></code></pre><p>综上所述<context-param>标签的作用可以总结如下</p><p>web.xml的配置中<context-param>配置作用</p><ul><li>启动一个WEB项目的时候,容器(如:Tomcat)会去读它的配置文件web.xml.读两个节点: <listener></listener> 和 <context-param></context-param></li><li>紧接着,容器创建一个ServletContext(上下文),这个WEB项目所有部分都将共享这个上下文.</li><li>容器将<context-param></context-param>转化为键值对,并交给ServletContext.</li><li>容器创建<listener></listener>中的类实例,即创建监听.</li><li>在监听中会有contextInitialized(ServletContextEvent args)初始化方法,在这个方法中获得ServletContext &#x3D; ServletContextEvent.getServletContext();<br>context-param的值 &#x3D; ServletContext.getInitParameter(“context-param的键”);</li><li>得到这个context-param的值之后,你就可以做一些操作了.注意,这个时候你的WEB项目还没有完全启动完成.这个动作会比所有的Servlet都要早.<br>换句话说,这个时候,你对<context-param>中的键值做的操作,将在你的WEB项目完全启动之前被执行.</li><li>举例.你可能想在项目启动之前就打开数据库.<br>那么这里就可以在<context-param>中设置数据库的连接方式,在监听类中初始化数据库的连接.</li><li>这个监听是自己写的一个类,除了初始化方法,它还有销毁方法.用于关闭应用前释放资源.比如说数据库连接的关闭.</li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;简述：&lt;/strong&gt; web.xml中&lt;context-param&gt;标签的作用。&lt;/p&gt;</summary>
    
    
    
    <category term="学习 - JavaWeb" scheme="https://zengchen233.cn/categories/%E5%AD%A6%E4%B9%A0-JavaWeb/"/>
    
    
    <category term="JavaWeb" scheme="https://zengchen233.cn/tags/JavaWeb/"/>
    
  </entry>
  
</feed>
